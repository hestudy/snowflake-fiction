# Snowflake Fiction - 小说创作工具套件

Claude Code 插件，提供完整的小说创作工具链。从创意到大纲，从正文到导出，一站式搞定。

---

## 功能概览

| 技能 | 用途 | 触发词 |
|------|------|--------|
| **snowflake-fiction** | 雪花写作法创作小说 | 写小说、创作故事、雪花法 |
| **novel-review** | 小说质量复核检查 | 小说复核、章节检查、一致性检查、质量检查 |
| **humanize-text** | AI文本人语化处理 | 人语化、去AI味、润色 |
| **novel-export** | 导出各平台格式 | 导出小说、番茄格式、起点格式 |

---

## 指令速查表

### 小说创作指令

```bash
# 基础创作
/snowflake-fiction                              # 交互式引导创作
/snowflake-fiction 短篇 [题材描述]               # 短篇小说（1-3万字）
/snowflake-fiction 长篇 [题材描述] 目标[X]万字    # 长篇小说（10-50万字）
/snowflake-fiction 百万级 [题材] [字数]万字       # 百万级网文（100万字+）

# 短篇示例
/snowflake-fiction 短篇 帮我写一个都市职场故事
/snowflake-fiction 短篇 悬疑推理小说，主角是侦探

# 长篇示例
/snowflake-fiction 长篇 玄幻修仙小说，目标20万字
/snowflake-fiction 长篇 都市重生文，目标30万字

# 百万级示例
/snowflake-fiction 百万级 玄幻 300万字
/snowflake-fiction 百万级 都市 200万字 日更
/snowflake-fiction 百万级 仙侠 500万字 番茄

# 导出指令
/snowflake-fiction 导出 番茄                    # 导出为番茄格式
/snowflake-fiction 导出 起点                    # 导出为起点格式
/snowflake-fiction 导出 晋江                    # 导出为晋江格式
/snowflake-fiction 导出 纯文本                  # 导出为通用纯文本
/snowflake-fiction 导出 Word                    # 导出为Word文档

# 输出目录指定
/snowflake-fiction 输出到 ./my-novel/           # 指定输出目录

# 步骤跳转
/snowflake-fiction 跳到第6步                    # 直接跳到某一步
/snowflake-fiction 从第3步开始                  # 从指定步骤继续
```

### 小说复核指令

```bash
# 基础用法
/novel-review                              # 交互式引导
/novel-review ./novel-output/我的小说/      # 指定项目目录
/novel-review 第10章                        # 只检查指定章节
/novel-review 第5-10章                      # 检查章节范围

# 指定检查项
/novel-review --角色                        # 只检查角色一致性
/novel-review --时间线                      # 只检查时间线
/novel-review --设定                        # 只检查设定一致性
/novel-review --大纲                        # 只检查大纲偏离
/novel-review --伏笔                        # 只检查伏笔回收
/novel-review --文风                        # 只检查文风一致性（含流水账检测）
/novel-review --开篇                        # 只检查开篇质量（仅前3章）
/novel-review --全文                        # 全面检查（所有项）

# 输出格式
/novel-review --report                     # 生成完整报告
/novel-review --quick                      # 快速检查（摘要模式）

# 示例
/novel-review 第10章 --角色                 # 只检查第10章的角色一致性
/novel-review 第1-10章 --quick              # 快速检查第1-10章
/novel-review ./novel-output/重生2010/ --全文  # 全面检查指定项目
```

### 人语化处理指令

```bash
# 基础用法
/humanize-text [文本内容]                       # 全面人语化

# 指定场景
/humanize-text 场景:小说对话 [文本]              # 对话优化
/humanize-text 场景:对话 [文本]                  # 对话优化（简写）
/humanize-text 场景:小红书 [文本]                # 小红书风格
/humanize-text 场景:邮件 [文本]                  # 商务邮件
/humanize-text 场景:学术 [文本]                  # 学术降重
/humanize-text 场景:论文 [文本]                  # 学术降重（简写）

# 指定程度
/humanize-text 程度:轻度 [文本]                  # 保留原文，微调
/humanize-text 程度:中度 [文本]                  # 平衡改写（默认）
/humanize-text 程度:深度 [文本]                  # 大幅重构

# 检测与评估
/humanize-text 自检 [文本]                      # AI程度检测评分
/humanize-text 评分 [文本]                       # 人语化程度评估

# 示例
/humanize-text "综上所述，人工智能技术在当今社会具有重要意义..."
/humanize-text 场景:对话 "他说：我认为这个方案非常优秀..."
/humanize-text 程度:深度 [粘贴一段小说正文]
```

### 导出格式指令

```bash
# 单文本转换
/novel-export [平台] [文本内容]
/novel-export 番茄 [文本内容]
/novel-export 起点 [文本内容]
/novel-export 晋江 [文本内容]
/novel-export 知乎 [文本内容]
/novel-export 七猫 [文本内容]
/novel-export 纯文本 [文本内容]

# 文件/目录转换
/novel-export 番茄 ./正文/第1章.md               # 转换单个文件
/novel-export 起点 ./正文/                       # 转换整个目录
/novel-export 起点 ./正文/ --batch               # 批量转换

# 合并导出
/novel-export 番茄 ./正文/ --merge               # 合并为单文件
/novel-export 番茄 ./正文/ --merge --output 我的小说.txt

# 快捷指令（等价写法）
/番茄格式 [文本]    # 同 /novel-export 番茄
/起点格式 [文本]    # 同 /novel-export 起点
/晋江格式 [文本]    # 同 /novel-export 晋江
/知乎格式 [文本]    # 同 /novel-export 知乎
```

### 自然语言触发（无需指令）

以下表述会自动激活对应技能：

```bash
# 触发 snowflake-fiction
"写小说"
"创作故事"
"雪花法"
"帮我构思一个故事"
"用雪花写作法..."

# 触发 novel-review
"小说复核"
"章节检查"
"一致性检查"
"质量检查"
"小说质检"
"检查角色一致性"
"检查时间线"

# 触发 humanize-text
"人语化"
"去AI味"
"润色"
"让这更像人写的"
"人性化处理"
"去除机器味"

# 触发 novel-export
"导出小说"
"转换为平台格式"
"番茄格式"
"起点格式"
"投稿格式"
"导出为番茄"
```

### 完整工作流指令组合

```bash
# 场景1：写短篇知乎盐选
/snowflake-fiction 短篇 都市悬疑，2万字
# ... 完成创作 ...
/novel-review 第1-10章 --quick             # 快速检查一致性
/humanize-text 场景:小说对话 [正文]
/novel-export 知乎 ./正文/

# 场景2：百万级网文日更
/snowflake-fiction 百万级 玄幻 300万字
# ... 规划完成 ...
# 每天：
生成今天的2章内容
/novel-review 第N章 --角色 --时间线        # 快速检查新章节
/humanize-text 程度:中度 [生成的正文]
/novel-export 番茄 ./正文/第N章.md

# 场景3：批量处理已有内容
/humanize-text 程度:深度 [大段文本]
/humanize-text 自检 [处理后的文本]
/novel-export 起点 [最终文本]

# 场景4：质量检查流程
/snowflake-fiction 长篇 玄幻小说 20万字
# ... 创作一段时间后 ...
/novel-review 第1-20章 --全文              # 全面检查前20章
# 根据报告修改问题
/humanize-text [修改后的正文]
/novel-review 第1-20章 --quick             # 确认修复
```

---

## 快速开始

### 安装

```bash
# 方式一：Marketplace 安装（推荐）
/plugin marketplace add hestudy/snowflake-fiction
/plugin install snowflake-fiction@snowflake-fiction

# 方式二：克隆安装
git clone https://github.com/hestudy/snowflake-fiction.git \
  ~/.claude/plugins/marketplaces/snowflake-fiction
```

### 启用插件

在 `~/.claude/settings.json` 中添加：

```json
{
  "enabledPlugins": {
    "snowflake-fiction": true
  }
}
```

---

## 使用指南

### 一、小说创作（snowflake-fiction）

#### 1.1 短篇小说（1-3万字）

**适用场景**：知乎盐选、短篇投稿、练手

```
用户：用雪花法帮我写一个都市职场短篇小说，约2万字

Claude：【第1步：一句话概括】
        请告诉我：
        1. 主角是什么样的角色？
        2. 核心冲突是什么？
        3. 故事基调？

用户：主角是一个社恐程序员，核心冲突是被迫参与办公室政治，基调轻松幽默

Claude：基于你的描述，我生成了5个一句话概括：

        【A】社恐程序员被卷入办公室斗争，用代码实力打脸全场。
        【B】程序员不擅社交却被迫带队，最终用专业赢得尊重。
        【C】技术宅的职场求生记：不拍马屁，只写代码。
        【D】社恐程序员遇上职场PUA，一怒之下成为最硬钉子。
        【E】代码比人好说话的程序员，用Bug整垮了PUA领导。

        请选择一个，或告诉我需要调整的方向。
```

**12步流程**：

| 步骤 | 阶段 | 输出物 | 示例 |
|------|------|--------|------|
| 1 | 构思期 | 一句话概括 | 社恐程序员用代码实力打脸全场 |
| 2 | 构思期 | 五句式大纲 | 背景→灾难1→灾难2→灾难3→结局 |
| 3 | 设计期 | 人物卡片 | 主角、反派、配角 |
| 4 | 设计期 | 一页纸大纲 | 500字完整故事 |
| 5 | 设计期 | 人物背景 | 每人0.5-1页 |
| 6 | 构建期 | 四页大纲 | 详细章节规划 |
| 7 | 构建期 | 人物宝典 | 完整角色资料库 |
| 8 | 规划期 | 场景清单 | 所有场景列表 |
| 9 | 规划期 | 场景规划 | 每个场景详细规划 |
| 10 | 创作期 | 正文 | 逐章生成 |
| 11 | 润色期 | 人语化 | 去AI味 |
| 12 | 导出期 | 平台格式 | 番茄/起点/纯文本 |

#### 1.2 长篇小说（10-50万字）

**适用场景**：传统出版、中篇网文

```
用户：用雪花法帮我写一个玄幻修仙小说，目标20万字

Claude：【第1步：一句话概括】
        长篇特别注意：要暗示史诗感和成长跨度

        【A】农家少年捡到神秘玉佩，从凡人修至仙帝。
        【B】穿越者觉醒废材体质，靠系统逆袭成神。
        【C】落魄少爷被逐出家门，十年后王者归来。

用户：选B，但要改成科幻修仙结合

Claude：【第3步：规模规划】

        ## 小说规模规划
        - 总字数目标：20万字
        - 卷数：4卷
        - 总章数：约80章
        - 每章字数：2500字

        | 卷号 | 卷名 | 字数 | 章数 | 核心内容 |
        |------|------|------|------|----------|
        | 第1卷 | 觉醒 | 5万 | 20章 | 系统激活+新手期 |
        | 第2卷 | 崛起 | 5万 | 20章 | 第一次大冲突 |
        | 第3卷 | 称霸 | 5万 | 20章 | 区域霸主 |
        | 第4卷 | 飞升 | 5万 | 20章 | 最终对决 |
```

#### 1.3 百万级网文（100万字+）

**适用场景**：番茄、起点等平台商业网文

```
用户：用雪花法帮我写一个百万级玄幻，目标300万字，日更

Claude：【百万级网文规划】

        ## 商业节奏设计

        ### 黄金三章
        - 第1章：开篇即冲突（穿越+危机）
        - 第2章：金手指（系统觉醒）
        - 第3章：首爽点（打脸小反派）

        ### 付费卡点（番茄30章）
        - 主角人设立住 ✅
        - 核心爽点展示 ✅
        - 第一个大剧情 ✅

        ### 爽点密度
        | 间隔 | 类型 | 示例 |
        |------|------|------|
        | 每3章 | 小爽 | 打脸小反派 |
        | 每10章 | 中爽 | 获得重要物品 |
        | 每30章 | 大爽 | 击败阶段性Boss |
        | 每100章 | 超大爽 | 地图切换 |

        ### 多阶段结构
        | 阶段 | 地图 | 字数 | 章数 |
        |------|------|------|------|
        | 1 | 新手村 | 20万 | 80章 |
        | 2 | 县城 | 30万 | 120章 |
        | 3 | 州城 | 40万 | 160章 |
        | 4 | 皇城 | 50万 | 200章 |
        | 5 | 神域 | 80万 | 320章 |
        | 6 | 上界 | 80万 | 320章 |

        ### 升级体系
        练气 → 筑基 → 金丹 → 元婴 → 化神 → 炼虚 → 大乘 → 渡劫

        是否继续规划详细大纲？
```

**百万级特殊功能**：

```
# 日更生产流程
用户：帮我生成今天的2章内容

Claude：正在生成第287-288章...

        1. 读取章节大纲 ✅
        2. 读取人物设定 ✅
        3. 读取前文内容 ✅
        4. 生成初稿...

        [第287章：城主府的邀请]
        [第288章：暗流涌动]

        是否需要进行人语化处理？

# 批量大纲生成
用户：帮我生成第300-400章的章节大纲

Claude：【第300-400章：州城篇】

        | 章节 | 标题 | 核心事件 | 爽点 |
        |------|------|----------|------|
        | 300 | 初入州城 | 新地图开启 | - |
        | 301 | 拍卖会 | 获得功法 | 小爽 |
        | 302 | 惹上麻烦 | 遇到反派 | - |
        | 303 | 反杀 | 打脸 | 小爽 ✅ |
        ...
```

---

### 二、人语化处理（humanize-text）

**为什么需要**：AI文本有明显的"机器味"，容易被平台检测

#### 2.1 基础用法

```
用户：帮我把这段文字人语化

[粘贴文本]

Claude：正在分析AI痕迹...

        发现问题：
        - 高频AI词汇：深入探讨、至关重要、综上所述
        - 句式过于整齐
        - 缺乏情感细节
        - 结尾强行升华

        处理中...

        | 原文 | 修改后 | 修改理由 |
        |------|--------|----------|
        | 他深入探讨了这个问题 | 他把这事儿琢磨透了 | 口语化 |
        | 综上所述 | 所以说 | 去废话 |
        | 这一点至关重要 | 这事儿没得商量 | 个性化 |
```

#### 2.2 不同场景

```
# 对话优化
用户：帮我优化这段对话，让人物说话更自然

Claude：【对话优化结果】

        ❌ 原文：
        "我认为这个方案非常优秀，因为它能够解决我们的问题。"
        "我完全同意你的观点，我们应该立即实施。"

        ✅ 优化后：
        "这招行。"
        "那就干吧，别磨叽了。"

# 小红书风格
用户：帮我把这篇文案改成小红书风格

Claude：【小红书风格改写】

        姐妹们！！！这个神仙小说写作工具我真的要吹爆 🎀✨

        之前写小说写到头秃，现在用雪花法直接起飞 🚀

        谁懂啊家人们，日更6000字不是梦 💪

        #写作神器 #小说创作 #雪花写作法

# 学术降重
用户：帮我降重这段论文

Claude：【学术降重结果】

        ❌ 原文：人工智能技术取得了巨大的成功
        ✅ 降重：AI技术应用率提升200%（2020-2024）
```

#### 2.3 人语化程度检测

```
用户：帮我检测这段文字的AI程度

Claude：【AI程度检测报告】

        整体评分：62/100（明显AI味）

        最像AI的3个片段：
        1. "在当今社会，随着科技的快速发展..."（开头模板）
        2. "综上所述，我们应该..."（结尾升华）
        3. "这一点至关重要"（高频AI词）

        最像人类的3个片段：
        1. "那天晚上他喝多了，对着路灯骂了半小时"
        2. "她妈的口头禅是'随便你'"
        3. "钱包里只剩38块钱，连杯奶茶都买不起"

        改进建议：
        - 删除所有"综上所述"类词汇
        - 增加感官描写（视觉、听觉、嗅觉）
        - 句子长度要有变化
```

---

### 三、导出格式（novel-export）

#### 3.1 各平台格式

```
用户：把这段小说导出为番茄格式

Claude：【番茄小说格式转换】

        转换规则：
        - 段落之间不留空行 ✅
        - 不添加缩进 ✅
        - 删除Markdown标记 ✅

        --- 转换结果 ---

        第1章 初遇
        林小满坐在咖啡馆的角落，手指不停地搅动着面前的拿铁。
        咖啡早就凉了，但她一口没动。
        妈妈坐在对面，一脸恨铁不成钢的表情。
        "小满啊，写小说能当饭吃吗？"

用户：导出为起点格式

Claude：【起点中文网格式转换】

        --- 转换结果 ---

        第1章 初遇

        　　林小满坐在咖啡馆的角落，手指不停地搅动着面前的拿铁。咖啡早就凉了，但她一口没动。
        　　妈妈坐在对面，一脸恨铁不成钢的表情。
        　　"小满啊，写小说能当饭吃吗？"
```

#### 3.2 批量导出

```
用户：把正文目录下所有章节导出为番茄格式

Claude：【批量导出】

        扫描目录：./正文/
        发现文件：87个 .md 文件

        处理中...
        [████████████████████] 100%

        导出完成：
        ./导出/番茄/我的小说.txt（共87章，约21万字）
```

---

## 完整示例：从零到发布

### 场景：写一本番茄小说的都市重生文

```
# Step 1: 初始化项目
用户：用雪花法帮我写一个都市重生文，目标150万字，发番茄

Claude：【百万级网文规划 - 都市重生】

        ## 一句话概括选项
        【A】中年社畜重生回2008，靠信息差逆袭成首富。
        【B】破产老板重生大学毕业，这一次不再做舔狗。
        【C】普通人重生高三，弥补所有遗憾走上人生巅峰。

用户：选A，但改成重生回2010年

# Step 2: 规模规划
Claude：【规模规划】

        总字数：150万字
        章节：600章 × 2500字
        阶段：5个阶段

        | 阶段 | 内容 | 字数 |
        |------|------|------|
        | 1 | 2010-2012 | 30万 |
        | 2 | 2012-2015 | 30万 |
        | 3 | 2015-2018 | 30万 |
        | 4 | 2018-2020 | 30万 |
        | 5 | 2020-现在 | 30万 |

# Step 3: 黄金三章
Claude：【黄金三章详细规划】

        第1章《重生2010》
        - 开场：中年失败，跳楼瞬间重生
        - 冲突：发现回到了大学宿舍
        - 钩子：记得明天的彩票号码

        第2章《第一桶金》
        - 彩票中奖
        - 决定改变命运
        - 金手指：前世记忆

        第3章《打脸》
        - 遇到前世仇人
        - 低调后爆发
        - 小爽点完成

# Step 4: 开始创作
用户：开始写前3章

Claude：[生成第1章初稿...]
        [生成第2章初稿...]
        [生成第3章初稿...]

        初稿完成，是否进行人语化？

用户：是

Claude：【人语化处理完成】

        修改统计：
        - 句式调整：47处
        - 口语化：32处
        - 情感注入：18处
        - 删除AI词：15处

        人语化评分：78/100（建议再人工润色）

用户：导出番茄格式

Claude：【导出完成】
        ./导出/番茄/重生2010/第1-3章.txt

        发布建议：
        - 每天2更，早10点晚8点
        - 30章后设置付费
        - 第10章、第20章加大爽点

用户：帮我生成第4-10章大纲

Claude：[继续...]
```

---

## 推荐工作流

```
完整创作流程：

1. 初始化
   /snowflake-fiction 百万级 [题材] [字数]

2. 规划阶段（一次性）
   ├─ 黄金三章设计
   ├─ 付费卡点规划
   ├─ 升级体系设计
   └─ 多阶段大纲

3. 日常生产（循环）
   ├─ 生成初稿（2章/天）
   ├─ 一致性检查 /novel-review
   ├─ 人语化润色
   ├─ 导出平台格式
   └─ 发布

4. 周期回顾（每周）
   ├─ 数据监控
   ├─ 读者反馈分析
   ├─ 全面质量检查 /novel-review --全文
   └─ 调整后续大纲
```

---

## 目录结构

```
snowflake-fiction/
├── .claude-plugin/
│   ├── plugin.json           # 插件元数据
│   └── marketplace.json      # Marketplace 配置
├── skills/
│   ├── humanize-text/
│   │   └── SKILL.md          # 人语化技能
│   ├── novel-export/
│   │   └── SKILL.md          # 导出技能
│   ├── novel-review/
│   │   ├── SKILL.md          # 复核技能
│   │   └── references/
│   │       ├── consistency-check-prompt.md  # 一致性检查提示词
│   │       ├── character-state-template.md  # 角色状态追踪
│   │       ├── timeline-template.md         # 时间线追踪
│   │       ├── foreshadowing-tracker.md     # 伏笔追踪
│   │       └── review-report-template.md    # 复核报告模板
│   └── snowflake-fiction/
│       ├── SKILL.md          # 雪花写作法主技能
│       └── references/
│           ├── step-prompts.md              # 每步提示词
│           ├── character-template.md        # 人物卡片模板
│           ├── scene-template.md            # 场景规划模板
│           ├── export-format.md             # 导出格式说明
│           ├── long-novel-guide.md          # 长篇小说指南
│           ├── million-word-webnovel-guide.md # 百万级网文指南
│           └── writing-pitfalls-guide.md    # 网文写作避雷指南
├── LICENSE
└── README.md
```

---

## 参考文档说明

本插件内置丰富的参考文档，帮助创作者提升写作质量：

### 创作指南

| 文档 | 说明 |
|------|------|
| **[step-prompts.md](skills/snowflake-fiction/references/step-prompts.md)** | 雪花写作法每步提示词模板，包含人语化处理技巧 |
| **[character-template.md](skills/snowflake-fiction/references/character-template.md)** | 人物卡片和人物宝典完整模板 |
| **[scene-template.md](skills/snowflake-fiction/references/scene-template.md)** | 场景规划模板（主动/被动场景） |
| **[export-format.md](skills/snowflake-fiction/references/export-format.md)** | 各平台导出格式详细说明 |
| **[long-novel-guide.md](skills/snowflake-fiction/references/long-novel-guide.md)** | 长篇小说（10-50万字）创作指南 |
| **[million-word-webnovel-guide.md](skills/snowflake-fiction/references/million-word-webnovel-guide.md)** | 百万级网文商业节奏设计，含黄金三章、付费卡点、爽点密度 |
| **[writing-pitfalls-guide.md](skills/snowflake-fiction/references/writing-pitfalls-guide.md)** | ⭐ 新手写作避雷指南（开篇技巧、人设问题、流水账避免、选题技巧） |

### 复核工具

| 文档 | 说明 |
|------|------|
| **[consistency-check-prompt.md](skills/novel-review/references/consistency-check-prompt.md)** | 一致性检查提示词模板 |
| **[character-state-template.md](skills/novel-review/references/character-state-template.md)** | 角色状态追踪模板 |
| **[timeline-template.md](skills/novel-review/references/timeline-template.md)** | 时间线追踪模板 |
| **[foreshadowing-tracker.md](skills/novel-review/references/foreshadowing-tracker.md)** | 伏笔追踪模板 |
| **[review-report-template.md](skills/novel-review/references/review-report-template.md)** | 复核报告模板 |

### 写作避雷指南速览

`writing-pitfalls-guide.md` 整合了番茄小说网作家专区的写作教程，涵盖：

**开篇问题**
- 三大开篇雷区：寡淡开场、信息轰炸、拖沓入题
- 黄金三章法则：第1章抓读者、第2章展设定、第3章爽点
- 开篇切入点选择：剧情切入 vs 场景切入

**人设问题**
- 人设扁平化：所有角色说话风格雷同
- 人设前后不统一：行为与设定矛盾
- 配角工具人化：配角只为服务主角存在

**流水账问题**
- 流水账特征：无冲突、无情绪、无期待感
- 避免方法：增加冲突、加入强情绪、设置悬念

**选题技巧**
- 题材与内容匹配
- 建立辨识度
- 合理跨题材混搭

---

## 常见问题

### Q: 支持哪些小说类型？

A: 理论上所有类型都支持，特别优化了：
- 玄幻/仙侠（升级体系、地图切换）
- 都市（重生、系统、神豪）
- 言情（甜宠、虐恋、霸总）
- 悬疑/推理
- 历史/穿越

### Q: AI生成的小说会被平台检测吗？

A: 有风险。强烈建议：
1. 必须进行人语化处理
2. 人工修改比例 ≥30%
3. 融入个人风格和经历
4. 使用本工具的"人语化程度检测"功能

### Q: 日更6000字能保证质量吗？

A: 建议流程：
1. 周末批量生成下周大纲
2. 每天早上生成初稿
3. 下午人语化+人工润色
4. 晚上定时发布

### Q: 免费使用吗？

A: 本插件完全开源免费。但使用需要 Claude Code 环境。

---

## License

MIT
