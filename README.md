# Snowflake Fiction - 小说创作工具套件

Claude Code 插件，提供完整的小说创作工具链。从创意到大纲，从正文到导出，一站式搞定。

---

## 功能概览

| 技能 | 用途 | 触发词 |
|------|------|--------|
| **snowflake-fiction** | 雪花写作法创作小说 | 写小说、创作故事、雪花法 |
| **novel-review** | 小说质量复核检查 | 小说复核、章节检查、一致性检查 |
| **humanize-text** | AI文本人语化处理 | 人语化、去AI味、润色 |
| **quality-check** | 综合质量检查 | 质量检查、内容检查、综合评估 |
| **boring-detect** | 流水账专项检测 | 流水账检测、检查流水账、平淡检测 |
| **opening-check** | 开篇质量检查 | 开篇检查、黄金三章、检查开篇 |
| **character-check** | 角色质量检查 ⭐新增 | 角色检查、人设检查、人物检查 |
| **concept-check** | 创意与选题检查 ⭐新增 | 选题检查、创意检查、题材检查 |
| **novel-export** | 导出各平台格式 | 导出小说、番茄格式、起点格式 |

---

## 指令速查表

### 小说创作指令

```bash
# 基础创作
/snowflake-fiction                              # 交互式引导创作
/snowflake-fiction 短篇 [题材描述]               # 短篇小说（1-3万字）
/snowflake-fiction 长篇 [题材描述] 目标[X]万字    # 长篇小说（10-50万字）
/snowflake-fiction 百万级 [题材] [字数]万字       # 百万级网文（100万字+）

# 短篇示例
/snowflake-fiction 短篇 帮我写一个都市职场故事
/snowflake-fiction 短篇 悬疑推理小说，主角是侦探

# 长篇示例
/snowflake-fiction 长篇 玄幻修仙小说，目标20万字
/snowflake-fiction 长篇 都市重生文，目标30万字

# 百万级示例
/snowflake-fiction 百万级 玄幻 300万字
/snowflake-fiction 百万级 都市 200万字 日更
/snowflake-fiction 百万级 仙侠 500万字 番茄

# 导出指令
/snowflake-fiction 导出 番茄                    # 导出为番茄格式
/snowflake-fiction 导出 起点                    # 导出为起点格式
/snowflake-fiction 导出 晋江                    # 导出为晋江格式
/snowflake-fiction 导出 纯文本                  # 导出为通用纯文本
/snowflake-fiction 导出 Word                    # 导出为Word文档

# 批量生成（带并发控制）
/snowflake-fiction 生成 第5-10章 --batch --concurrency 2
/snowflake-fiction 导出 番茄 --batch --concurrency 3

# 输出目录指定
/snowflake-fiction 输出到 ./my-novel/           # 指定输出目录

# 步骤跳转
/snowflake-fiction 跳到第6步                    # 直接跳到某一步
/snowflake-fiction 从第3步开始                  # 从指定步骤继续
```

### 小说复核指令

```bash
# 基础用法
/novel-review                              # 交互式引导
/novel-review ./novel-output/我的小说/      # 指定项目目录
/novel-review 第10章                        # 只检查指定章节
/novel-review 第5-10章                      # 检查章节范围

# 指定检查项
/novel-review --角色                        # 只检查角色一致性
/novel-review --时间线                      # 只检查时间线
/novel-review --设定                        # 只检查设定一致性
/novel-review --大纲                        # 只检查大纲偏离
/novel-review --伏笔                        # 只检查伏笔回收
/novel-review --文风                        # 只检查文风一致性（含流水账检测）
/novel-review --开篇                        # 只检查开篇质量（仅前3章）
/novel-review --评估准备                    # 推荐评估准备检查（番茄平台8万字节点）⭐新增
/novel-review --全文                        # 全面检查（所有项）

# 输出格式
/novel-review --report                     # 生成完整报告
/novel-review --quick                      # 快速检查（摘要模式）

# 并发控制
/novel-review --parallel 1                 # 串行执行（最稳定）
/novel-review --parallel 2                 # 每批2个（默认）
/novel-review --parallel 3                 # 每批3个（可能限流）

# 示例
/novel-review 第10章 --角色                 # 只检查第10章的角色一致性
/novel-review 第1-10章 --quick              # 快速检查第1-10章
/novel-review ./novel-output/重生2010/ --全文  # 全面检查指定项目
```

### 人语化处理指令

```bash
# 基础用法
/humanize-text [文本内容]                       # 全面人语化

# 指定场景
/humanize-text 场景:小说对话 [文本]              # 对话优化
/humanize-text 场景:对话 [文本]                  # 对话优化（简写）
/humanize-text 场景:小红书 [文本]                # 小红书风格
/humanize-text 场景:邮件 [文本]                  # 商务邮件
/humanize-text 场景:学术 [文本]                  # 学术降重
/humanize-text 场景:论文 [文本]                  # 学术降重（简写）

# 指定程度
/humanize-text 程度:轻度 [文本]                  # 保留原文，微调
/humanize-text 程度:中度 [文本]                  # 平衡改写（默认）
/humanize-text 程度:深度 [文本]                  # 大幅重构

# 检测与评估
/humanize-text 自检 [文本]                      # AI程度检测评分
/humanize-text 评分 [文本]                       # 人语化程度评估

# 示例
/humanize-text "综上所述，人工智能技术在当今社会具有重要意义..."
/humanize-text 场景:对话 "他说：我认为这个方案非常优秀..."
/humanize-text 程度:深度 [粘贴一段小说正文]
```

### 质量检查指令

```bash
# 综合质量检查
/quality-check [文本]                           # 全面质量评估（AI程度+流水账+内容质量）

# 流水账专项检测
/boring-detect [文本]                           # 检测流水账问题

# 开篇质量检查
/opening-check [文本]                           # 检查开篇质量（黄金三章标准）
/opening-check 第1-3章 [文本]                   # 指定检查前三章

# 示例
/quality-check [小说正文]                        # 全面质量检查
/boring-detect "他起床，刷牙，吃早饭..."         # 检测流水账
/opening-check [开篇三章]                        # 检查黄金三章
```

### 角色与创意检查指令（⭐新增）

```bash
# 角色质量检查
/character-check [文本]                         # 全面角色检查（扁平化+一致性+配角+视角）
/character-check --扁平化 [文本]                # 只检查人设扁平化
/character-check --一致性 [文本]                # 只检查人设一致性
/character-check --配角 [文本]                  # 只检查配角工具人化
/character-check --设定 [人物宝典] [文本]       # 配合人物设定检查

# 创意与选题检查
/concept-check [书名+简介+内容]                 # 全面选题检查
/concept-check --题材 [内容]                    # 只检查题材匹配
/concept-check --辨识度 [书名+简介]             # 只检查辨识度
/concept-check --优化 [书名+简介]               # 提供辨识度优化建议

# 示例
/character-check [正文]                         # 检查角色塑造
/concept-check "书名：xxx，简介：xxx" [前三章]   # 检查创意和选题
```

### 导出格式指令

```bash
# 单文本转换
/novel-export [平台] [文本内容]
/novel-export 番茄 [文本内容]
/novel-export 起点 [文本内容]
/novel-export 晋江 [文本内容]
/novel-export 知乎 [文本内容]
/novel-export 七猫 [文本内容]
/novel-export 纯文本 [文本内容]

# 文件/目录转换
/novel-export 番茄 ./正文/第1章.md               # 转换单个文件
/novel-export 起点 ./正文/                       # 转换整个目录
/novel-export 起点 ./正文/ --batch               # 批量转换
/novel-export 起点 ./正文/ --batch --concurrency 3  # 批量转换（自定义并发）

# 合并导出
/novel-export 番茄 ./正文/ --merge               # 合并为单文件
/novel-export 番茄 ./正文/ --merge --output 我的小说.txt

# 快捷指令（等价写法）
/番茄格式 [文本]    # 同 /novel-export 番茄
/起点格式 [文本]    # 同 /novel-export 起点
/晋江格式 [文本]    # 同 /novel-export 晋江
/知乎格式 [文本]    # 同 /novel-export 知乎
```

### 自然语言触发（无需指令）

以下表述会自动激活对应技能：

```bash
# 触发 snowflake-fiction
"写小说"
"创作故事"
"雪花法"
"帮我构思一个故事"
"用雪花写作法..."

# 触发 novel-review
"小说复核"
"章节检查"
"一致性检查"
"质量检查"
"小说质检"
"检查角色一致性"
"检查时间线"

# 触发 humanize-text
"人语化"
"去AI味"
"润色"
"让这更像人写的"
"人性化处理"
"去除机器味"

# 触发 quality-check
"质量检查"
"内容检查"
"综合评估"
"检查质量"
"小说质量"

# 触发 boring-detect
"流水账检测"
"检查流水账"
"平淡检测"
"流水账"

# 触发 opening-check
"开篇检查"
"黄金三章"
"检查开篇"
"检查前三章"

# 触发 character-check（⭐新增）
"角色检查"
"人设检查"
"人物检查"
"检查角色"
"检查人设"
"角色扁平"

# 触发 concept-check（⭐新增）
"选题检查"
"创意检查"
"题材检查"
"检查选题"
"检查创意"
"辨识度"

# 触发 novel-export
"导出小说"
"转换为平台格式"
"番茄格式"
"起点格式"
"投稿格式"
"导出为番茄"
```

### 完整工作流指令组合

```bash
# 场景1：写短篇知乎盐选
/snowflake-fiction 短篇 都市悬疑，2万字
# ... 完成创作 ...
/novel-review 第1-10章 --quick             # 快速检查一致性
/humanize-text 场景:小说对话 [正文]
/novel-export 知乎 ./正文/

# 场景2：百万级网文日更
/snowflake-fiction 百万级 玄幻 300万字
# ... 规划完成 ...
# 每天：
生成今天的2章内容
/novel-review 第N章 --角色 --时间线        # 快速检查新章节
/humanize-text 程度:中度 [生成的正文]
/novel-export 番茄 ./正文/第N章.md

# 场景3：批量处理已有内容
/humanize-text 程度:深度 [大段文本]
/humanize-text 自检 [处理后的文本]
/novel-export 起点 [最终文本]

# 场景4：质量检查流程
/snowflake-fiction 长篇 玄幻小说 20万字
# ... 创作一段时间后 ...
/novel-review 第1-20章 --全文              # 全面检查前20章
# 根据报告修改问题
/humanize-text [修改后的正文]
/novel-review 第1-20章 --quick             # 确认修复
```

---

## 并发控制策略

为避免 API 限流，批量操作时请使用并发控制参数：

### 并发参数速查

| 命令 | 参数 | 默认值 | 推荐范围 |
|------|------|--------|----------|
| `/snowflake-fiction 生成 --batch` | `--concurrency N` | 2 | 1-3 |
| `/snowflake-fiction 导出 --batch` | `--concurrency N` | 3 | 2-5 |
| `/novel-export --batch` | `--concurrency N` | 3 | 2-5 |
| `/novel-review` | `--parallel N` | 2 | 1-3 |

### 使用示例

```bash
# 批量生成章节（保守模式）
/snowflake-fiction 生成 第5-10章 --batch --concurrency 2

# 批量导出（默认并发）
/novel-export 起点 ./正文/ --batch

# 批量导出（自定义并发）
/novel-export 番茄 ./正文/ --batch --concurrency 5

# 小说复核（串行模式，最稳定）
/novel-review --全文 --parallel 1

# 小说复核（默认并发）
/novel-review --全文 --parallel 2
```

### 限流应对策略

| 情况 | 解决方案 |
|------|----------|
| 遇到 429 错误 | 自动退避，等待 5 秒后重试，最多 3 次 |
| 频繁限流 | 降低并发数或使用串行模式（`--concurrency 1`） |
| 首次创作 | 建议逐章生成，不使用批量模式 |

### 最佳实践

```bash
# ✅ 推荐：保守设置
/snowflake-fiction 生成 第5-10章 --batch --concurrency 2
/novel-export 番茄 ./正文/ --batch --concurrency 3
/novel-review --全文 --parallel 2

# ⚠️ 谨慎：高并发可能触发限流
/novel-export 起点 ./正文/ --batch --concurrency 5

# ✅ 最稳定：串行模式
/novel-review --全文 --parallel 1
/novel-export 番茄 ./正文/ --batch --concurrency 1
```

---

## 快速开始

### 安装

```bash
# 方式一：Marketplace 安装（推荐）
/plugin marketplace add hestudy/snowflake-fiction
/plugin install snowflake-fiction@snowflake-fiction

# 方式二：克隆安装
git clone https://github.com/hestudy/snowflake-fiction.git \
  ~/.claude/plugins/marketplaces/snowflake-fiction
```

### 启用插件

在 `~/.claude/settings.json` 中添加：

```json
{
  "enabledPlugins": {
    "snowflake-fiction": true
  }
}
```

---

## 使用指南

### 一、小说创作（snowflake-fiction）

#### 1.1 短篇小说（1-3万字）

**适用场景**：知乎盐选、短篇投稿、练手

```
用户：用雪花法帮我写一个都市职场短篇小说，约2万字

Claude：【第1步：一句话概括】
        请告诉我：
        1. 主角是什么样的角色？
        2. 核心冲突是什么？
        3. 故事基调？

用户：主角是一个社恐程序员，核心冲突是被迫参与办公室政治，基调轻松幽默

Claude：基于你的描述，我生成了5个一句话概括：

        【A】社恐程序员被卷入办公室斗争，用代码实力打脸全场。
        【B】程序员不擅社交却被迫带队，最终用专业赢得尊重。
        【C】技术宅的职场求生记：不拍马屁，只写代码。
        【D】社恐程序员遇上职场PUA，一怒之下成为最硬钉子。
        【E】代码比人好说话的程序员，用Bug整垮了PUA领导。

        请选择一个，或告诉我需要调整的方向。
```

**12步流程**：

| 步骤 | 阶段 | 输出物 | 示例 |
|------|------|--------|------|
| 1 | 构思期 | 一句话概括 | 社恐程序员用代码实力打脸全场 |
| 2 | 构思期 | 五句式大纲 | 背景→灾难1→灾难2→灾难3→结局 |
| 3 | 设计期 | 人物卡片 | 主角、反派、配角 |
| 4 | 设计期 | 一页纸大纲 | 500字完整故事 |
| 5 | 设计期 | 人物背景 | 每人0.5-1页 |
| 6 | 构建期 | 四页大纲 | 详细章节规划 |
| 7 | 构建期 | 人物宝典 | 完整角色资料库 |
| 8 | 规划期 | 场景清单 | 所有场景列表 |
| 9 | 规划期 | 场景规划 | 每个场景详细规划 |
| 10 | 创作期 | 正文 | 逐章生成 |
| 11 | 润色期 | 人语化 | 去AI味 |
| 12 | 导出期 | 平台格式 | 番茄/起点/纯文本 |

#### 1.2 长篇小说（10-50万字）

**适用场景**：传统出版、中篇网文

```
用户：用雪花法帮我写一个玄幻修仙小说，目标20万字

Claude：【第1步：一句话概括】
        长篇特别注意：要暗示史诗感和成长跨度

        【A】农家少年捡到神秘玉佩，从凡人修至仙帝。
        【B】穿越者觉醒废材体质，靠系统逆袭成神。
        【C】落魄少爷被逐出家门，十年后王者归来。

用户：选B，但要改成科幻修仙结合

Claude：【第3步：规模规划】

        ## 小说规模规划
        - 总字数目标：20万字
        - 卷数：4卷
        - 总章数：约80章
        - 每章字数：2500字

        | 卷号 | 卷名 | 字数 | 章数 | 核心内容 |
        |------|------|------|------|----------|
        | 第1卷 | 觉醒 | 5万 | 20章 | 系统激活+新手期 |
        | 第2卷 | 崛起 | 5万 | 20章 | 第一次大冲突 |
        | 第3卷 | 称霸 | 5万 | 20章 | 区域霸主 |
        | 第4卷 | 飞升 | 5万 | 20章 | 最终对决 |
```

#### 1.3 百万级网文（100万字+）

**适用场景**：番茄、起点等平台商业网文

```
用户：用雪花法帮我写一个百万级玄幻，目标300万字，日更

Claude：【百万级网文规划】

        ## 商业节奏设计

        ### 黄金三章
        - 第1章：开篇即冲突（穿越+危机）
        - 第2章：金手指（系统觉醒）
        - 第3章：首爽点（打脸小反派）

        ### 付费卡点（番茄30章）
        - 主角人设立住 ✅
        - 核心爽点展示 ✅
        - 第一个大剧情 ✅

        ### 爽点密度
        | 间隔 | 类型 | 示例 |
        |------|------|------|
        | 每3章 | 小爽 | 打脸小反派 |
        | 每10章 | 中爽 | 获得重要物品 |
        | 每30章 | 大爽 | 击败阶段性Boss |
        | 每100章 | 超大爽 | 地图切换 |

        ### 多阶段结构
        | 阶段 | 地图 | 字数 | 章数 |
        |------|------|------|------|
        | 1 | 新手村 | 20万 | 80章 |
        | 2 | 县城 | 30万 | 120章 |
        | 3 | 州城 | 40万 | 160章 |
        | 4 | 皇城 | 50万 | 200章 |
        | 5 | 神域 | 80万 | 320章 |
        | 6 | 上界 | 80万 | 320章 |

        ### 升级体系
        练气 → 筑基 → 金丹 → 元婴 → 化神 → 炼虚 → 大乘 → 渡劫

        是否继续规划详细大纲？
```

**百万级特殊功能**：

```
# 日更生产流程
用户：帮我生成今天的2章内容

Claude：正在生成第287-288章...

        1. 读取章节大纲 ✅
        2. 读取人物设定 ✅
        3. 读取前文内容 ✅
        4. 生成初稿...

        [第287章：城主府的邀请]
        [第288章：暗流涌动]

        是否需要进行人语化处理？

# 批量大纲生成
用户：帮我生成第300-400章的章节大纲

Claude：【第300-400章：州城篇】

        | 章节 | 标题 | 核心事件 | 爽点 |
        |------|------|----------|------|
        | 300 | 初入州城 | 新地图开启 | - |
        | 301 | 拍卖会 | 获得功法 | 小爽 |
        | 302 | 惹上麻烦 | 遇到反派 | - |
        | 303 | 反杀 | 打脸 | 小爽 ✅ |
        ...
```

---

### 二、人语化处理（humanize-text）

**为什么需要**：AI文本有明显的"机器味"，容易被平台检测

#### 2.1 基础用法

```
用户：帮我把这段文字人语化

[粘贴文本]

Claude：正在分析AI痕迹...

        发现问题：
        - 高频AI词汇：深入探讨、至关重要、综上所述
        - 句式过于整齐
        - 缺乏情感细节
        - 结尾强行升华

        处理中...

        | 原文 | 修改后 | 修改理由 |
        |------|--------|----------|
        | 他深入探讨了这个问题 | 他把这事儿琢磨透了 | 口语化 |
        | 综上所述 | 所以说 | 去废话 |
        | 这一点至关重要 | 这事儿没得商量 | 个性化 |
```

#### 2.2 不同场景

```
# 对话优化
用户：帮我优化这段对话，让人物说话更自然

Claude：【对话优化结果】

        ❌ 原文：
        "我认为这个方案非常优秀，因为它能够解决我们的问题。"
        "我完全同意你的观点，我们应该立即实施。"

        ✅ 优化后：
        "这招行。"
        "那就干吧，别磨叽了。"

# 小红书风格
用户：帮我把这篇文案改成小红书风格

Claude：【小红书风格改写】

        姐妹们！！！这个神仙小说写作工具我真的要吹爆 🎀✨

        之前写小说写到头秃，现在用雪花法直接起飞 🚀

        谁懂啊家人们，日更6000字不是梦 💪

        #写作神器 #小说创作 #雪花写作法

# 学术降重
用户：帮我降重这段论文

Claude：【学术降重结果】

        ❌ 原文：人工智能技术取得了巨大的成功
        ✅ 降重：AI技术应用率提升200%（2020-2024）
```

#### 2.3 人语化程度检测

```
用户：帮我检测这段文字的AI程度

Claude：【AI程度检测报告】

        整体评分：62/100（明显AI味）

        最像AI的3个片段：
        1. "在当今社会，随着科技的快速发展..."（开头模板）
        2. "综上所述，我们应该..."（结尾升华）
        3. "这一点至关重要"（高频AI词）

        最像人类的3个片段：
        1. "那天晚上他喝多了，对着路灯骂了半小时"
        2. "她妈的口头禅是'随便你'"
        3. "钱包里只剩38块钱，连杯奶茶都买不起"

        改进建议：
        - 删除所有"综上所述"类词汇
        - 增加感官描写（视觉、听觉、嗅觉）
        - 句子长度要有变化
```

---

### 三、质量检查（quality-check）⭐新增

**综合质量检查**：一次性完成AI程度检测、流水账检测、内容质量评估

```
用户：帮我检查这段小说的质量

Claude：【综合质量报告】

        ## 执行摘要

        | 检查项 | 评分 | 等级 | 状态 |
        |--------|------|------|------|
        | 人语化程度 | 68/100 | 中等 | ⚠️ |
        | 流水账程度 | 45/100 | 中等 | ⚠️ |
        | 内容质量 | 55/100 | 及格 | ⚠️ |

        综合评分：56/100
        建议操作：需要优化后再发布

        ## 优先修改建议

        [高优先级]
        1. 第2段：加入冲突事件
        2. 结尾：添加悬念钩子

        [中优先级]
        1. 第5段：加入角色情绪反应
        2. 删除AI高频词汇
```

---

### 四、流水账检测（boring-detect）⭐新增

**专项检测**：检测无冲突、无情绪、无期待感的流水账问题

```
用户：帮我检测这段内容是不是流水账

Claude：【流水账检测报告】

        流水账程度：中等
        整体评分：45/100

        ## 问题定位

        ❌ 第1-3段：纯事件罗列
        "他起床，洗漱，吃早饭，出门，坐地铁..."
        问题：无冲突、无情绪、只是时间线推进
        建议：加入意外事件（如发现钱包不见了）

        ⚠️ 结尾：没有钩子
        "这就是他的一天。"
        建议：添加悬念（如"他不知道的是，真正的麻烦才刚刚开始"）

        ## 流水账改进公式

        原文：事件A → 事件B → 事件C
        改写：事件A → 意外/冲突 → 情绪反应 → 悬念钩子
```

---

### 五、开篇检查（opening-check）⭐新增

**黄金三章检查**：基于黄金三章法则检查开篇质量

```
用户：帮我检查一下开篇

Claude：【开篇质量检查报告】

        开篇评分：72/100
        预计留存率：中

        ## 第一章检查结果

        | 检查项 | 状态 | 说明 |
        |--------|------|------|
        | 前300字有爆点 | ⚠️ | 爆点出现在第5段，偏晚 |
        | 主角已登场 | ✅ | |
        | 避免寡淡开场 | ✅ | |
        | 避免信息轰炸 | ✅ | |

        ## 第二章检查结果

        | 检查项 | 状态 | 说明 |
        |--------|------|------|
        | 有紧迫目标 | ✅ | |
        | 有具体阻碍 | ⚠️ | 阻碍不够强烈 |

        ## 第三章检查结果

        | 检查项 | 状态 | 说明 |
        |--------|------|------|
        | 有小爽点 | ✅ | |
        | 结尾有钩子 | ❌ | 缺少悬念钩子 |

        ## 优先修改建议

        1. 第一章：将爆点前移到第1段
        2. 第三章：结尾添加悬念钩子
```

---

### 六、导出格式（novel-export）

---

### 六、导出格式（novel-export）

#### 6.1 各平台格式

```
用户：把这段小说导出为番茄格式

Claude：【番茄小说格式转换】

        转换规则：
        - 段落之间不留空行 ✅
        - 不添加缩进 ✅
        - 删除Markdown标记 ✅

        --- 转换结果 ---

        第1章 初遇
        林小满坐在咖啡馆的角落，手指不停地搅动着面前的拿铁。
        咖啡早就凉了，但她一口没动。
        妈妈坐在对面，一脸恨铁不成钢的表情。
        "小满啊，写小说能当饭吃吗？"

用户：导出为起点格式

Claude：【起点中文网格式转换】

        --- 转换结果 ---

        第1章 初遇

        　　林小满坐在咖啡馆的角落，手指不停地搅动着面前的拿铁。咖啡早就凉了，但她一口没动。
        　　妈妈坐在对面，一脸恨铁不成钢的表情。
        　　"小满啊，写小说能当饭吃吗？"
```

#### 6.2 批量导出

```
用户：把正文目录下所有章节导出为番茄格式

Claude：【批量导出】

        扫描目录：./正文/
        发现文件：87个 .md 文件

        处理中...
        [████████████████████] 100%

        导出完成：
        ./导出/番茄/我的小说.txt（共87章，约21万字）
```

---

## 完整示例：从零到发布

### 场景：写一本番茄小说的都市重生文

```
# Step 1: 初始化项目
用户：用雪花法帮我写一个都市重生文，目标150万字，发番茄

Claude：【百万级网文规划 - 都市重生】

        ## 一句话概括选项
        【A】中年社畜重生回2008，靠信息差逆袭成首富。
        【B】破产老板重生大学毕业，这一次不再做舔狗。
        【C】普通人重生高三，弥补所有遗憾走上人生巅峰。

用户：选A，但改成重生回2010年

# Step 2: 规模规划
Claude：【规模规划】

        总字数：150万字
        章节：600章 × 2500字
        阶段：5个阶段

        | 阶段 | 内容 | 字数 |
        |------|------|------|
        | 1 | 2010-2012 | 30万 |
        | 2 | 2012-2015 | 30万 |
        | 3 | 2015-2018 | 30万 |
        | 4 | 2018-2020 | 30万 |
        | 5 | 2020-现在 | 30万 |

# Step 3: 黄金三章
Claude：【黄金三章详细规划】

        第1章《重生2010》
        - 开场：中年失败，跳楼瞬间重生
        - 冲突：发现回到了大学宿舍
        - 钩子：记得明天的彩票号码

        第2章《第一桶金》
        - 彩票中奖
        - 决定改变命运
        - 金手指：前世记忆

        第3章《打脸》
        - 遇到前世仇人
        - 低调后爆发
        - 小爽点完成

# Step 4: 开始创作
用户：开始写前3章

Claude：[生成第1章初稿...]
        [生成第2章初稿...]
        [生成第3章初稿...]

        初稿完成，是否进行质量检查？

# Step 5: 质量检查（⭐新增）
用户：是，帮我检查一下质量

Claude：【综合质量报告】

        | 检查项 | 评分 | 状态 |
        |--------|------|------|
        | 人语化程度 | 62/100 | ⚠️ |
        | 流水账程度 | 55/100 | ⚠️ |
        | 内容质量 | 68/100 | ⚠️ |

        综合评分：62/100
        建议操作：建议优化后再发布

        主要问题：
        1. 存在AI高频词汇
        2. 第2章目标不够紧迫
        3. 结尾缺少钩子

# Step 6: 开篇检查（⭐新增）
用户：帮我检查一下开篇

Claude：【开篇质量检查报告】

        开篇评分：72/100

        主要问题：
        1. 第1章开篇前300字缺少爆点
        2. 第3章结尾无钩子

        修改建议：
        1. 将爆点前移到第1段
        2. 结尾添加悬念钩子

        是否需要人语化处理？

# Step 7: 人语化处理
用户：是

Claude：【人语化处理完成】

        修改统计：
        - 句式调整：47处
        - 口语化：32处
        - 情感注入：18处
        - 删除AI词：15处

        人语化评分：78/100（建议再人工润色）

用户：导出番茄格式

Claude：【导出完成】
        ./导出/番茄/重生2010/第1-3章.txt

        发布建议：
        - 每天2更，早10点晚8点
        - 30章后设置付费
        - 第10章、第20章加大爽点

用户：帮我生成第4-10章大纲

Claude：[继续...]
```

---

## 番茄小说专项工作流 ⭐新增

针对番茄小说网2026年2月更新的「推荐评估」流程，提供专项支持：

### 关键节点工作流

```
8万字节点（推荐评估前）：
┌─────────────────────────────────────────────────────────────┐
│  1. /novel-review --评估准备                                │
│     ├─ 检查书名简介是否符合规范                              │
│     ├─ 检查黄金三章是否达标                                  │
│     ├─ 预估数据指标（追读率/完读率）                         │
│     └─ 输出评估准备评分                                      │
│                                                             │
│  2. 根据评分决策                                             │
│     ├─ ≥80分 → 立即发起推荐评估                             │
│     ├─ 60-79分 → 优化后发起                                 │
│     └─ <60分 → 先解决关键问题                               │
│                                                             │
│  3. 发起评估后                                               │
│     └─ 准备7天验证期存稿（15万字+）                         │
└─────────────────────────────────────────────────────────────┘

验证期（7天）：
┌─────────────────────────────────────────────────────────────┐
│  每日循环：                                                  │
│  1. 稳定日更4000字                                          │
│  2. 监控数据：章节读完率 / 追读率                            │
│  3. 定位问题章节（跳出率高）                                 │
│  4. 调整后续内容                                            │
│                                                             │
│  ⚠️ 禁止：断更、修改前三章                                   │
└─────────────────────────────────────────────────────────────┘

20万字节点（书测）：
┌─────────────────────────────────────────────────────────────┐
│  若首秀数据不佳：                                            │
│  1. 使用创作时生成的5套书名+简介                             │
│  2. 启动书测                                                 │
│  3. 选择追读率最高组合继续                                   │
│  4. 80%作品能起死回生                                        │
└─────────────────────────────────────────────────────────────┘
```

### 番茄平台数据指标标准

| 指标 | 及格线 | 优秀线 | 影响 |
|------|--------|--------|------|
| 三章追读率 | ≥35% | ≥45% | 决定能否进入下一轮推荐 |
| 完读率(10万字) | ≥15% | ≥20% | 算法长期推流关键 |
| 追更率 | ≥40% | ≥55% | 40%以上流量倾斜5倍 |

### 使用示例

```bash
# 1. 初始化番茄平台项目（自动生成5套书名简介）
/snowflake-fiction 百万级 番茄 都市重生 200万字

# 2. 达到8万字时，评估准备检查
/novel-review --评估准备

# 3. 检查输出示例
# 评估准备评分：72/100
# 建议：优化后发起
# 关键问题：第三章结尾无钩子，第一章前300字缺少爆点

# 4. 优化后再次检查
/novel-review 第1-3章 --开篇

# 5. 评分达标后发起评估
# ... 平台操作 ...

# 6. 验证期日常检查
/novel-review 第N章 --角色 --时间线  # 快速检查新章节
```

---

## 推荐工作流

```
完整创作流程：

1. 初始化
   /snowflake-fiction 百万级 [题材] [字数]

2. 规划阶段（一次性）
   ├─ 黄金三章设计
   ├─ 付费卡点规划
   ├─ 升级体系设计
   └─ 多阶段大纲

3. 日常生产（循环）
   ├─ 生成初稿（2章/天）
   ├─ 质量检查 /quality-check          ⭐使用独立命令
   ├─ 流水账检测 /boring-detect        ⭐使用独立命令
   ├─ 人语化润色 /humanize-text
   ├─ 一致性检查 /novel-review --角色 --时间线
   ├─ 导出平台格式 /novel-export
   └─ 发布

4. 开篇精修（前3章）⭐新增
   ├─ 开篇检查 /opening-check          ⭐使用独立命令
   ├─ 根据报告优化黄金三章
   └─ 再次检查确认

5. 关键节点（8万字/15万字）
   ├─ 推荐评估准备 /novel-review --评估准备
   ├─ 根据评分决定是否发起
   └─ 准备验证期存稿

6. 周期回顾（每周）
   ├─ 数据监控
   ├─ 读者反馈分析
   ├─ 全面质量检查 /novel-review --全文
   └─ 调整后续大纲
```

### 质量检查工作流（⭐优化）

```
章节完成后的标准检查流程：

1. 快速检查（每章）
   /boring-detect [正文]
   └─ 快速发现流水账问题

2. 常规检查（每5章）
   /quality-check [正文]
   └─ 全面质量评估

3. 开篇精修（关键章节）
   /opening-check [前三章]
   └─ 黄金三章标准检查

4. 复核检查（配合novel-review）
   /novel-review --角色 --时间线 [章节]
   └─ 确保一致性和追踪
```

### 各命令使用场景

| 场景 | 推荐命令 | 说明 |
|------|----------|------|
| 每章快速检查 | `/boring-detect` | 5秒发现流水账 |
| 常规质量检查 | `/quality-check` | 全面评估 |
| 开篇精修 | `/opening-check` | 黄金三章标准 |
| 角色塑造检查 | `/character-check` | 人设扁平化、工具人 ⭐新增 |
| 选题创意检查 | `/concept-check` | 辨识度、题材匹配 ⭐新增 |
| 人语化处理 | `/humanize-text` | 去AI味 |
| 一致性检查 | `/novel-review` | 角色时间线追踪 |

### 完整质量检查体系

```
质量检查全景图：

┌─────────────────────────────────────────────────────────────┐
│                        创作前                                 │
│  /concept-check [书名+简介]                                  │
│  └─ 检查选题、辨识度、混搭合理性                              │
├─────────────────────────────────────────────────────────────┤
│                        开篇期                                 │
│  /opening-check [前三章]                                     │
│  └─ 黄金三章、开篇爆点、结尾钩子                              │
├─────────────────────────────────────────────────────────────┤
│                        日常生产                               │
│  /boring-detect [正文] ─→ 快速检测流水账                     │
│  /quality-check [正文] ─→ 全面质量评估                       │
│  /character-check [正文] ─→ 角色塑造检查 ⭐新增               │
│  /humanize-text [正文] ─→ 人语化处理                         │
├─────────────────────────────────────────────────────────────┤
│                        周期回顾                               │
│  /novel-review --全文 ─→ 一致性全面检查                      │
└─────────────────────────────────────────────────────────────┘
```

---

## 目录结构

```
snowflake-fiction/
├── .claude-plugin/
│   ├── plugin.json           # 插件元数据
│   └── marketplace.json      # Marketplace 配置
├── skills/
│   ├── humanize-text/
│   │   └── SKILL.md          # 人语化技能
│   ├── novel-export/
│   │   └── SKILL.md          # 导出技能
│   ├── novel-review/
│   │   ├── SKILL.md          # 复核技能
│   │   └── references/
│   │       ├── consistency-check-prompt.md  # 一致性检查提示词
│   │       ├── character-state-template.md  # 角色状态追踪
│   │       ├── timeline-template.md         # 时间线追踪
│   │       ├── foreshadowing-tracker.md     # 伏笔追踪
│   │       └── review-report-template.md    # 复核报告模板
│   ├── quality-check/
│   │   └── SKILL.md          # 综合质量检查
│   ├── boring-detect/
│   │   └── SKILL.md          # 流水账检测
│   ├── opening-check/
│   │   └── SKILL.md          # 开篇质量检查
│   ├── character-check/      # ⭐新增
│   │   └── SKILL.md          # 角色质量检查
│   ├── concept-check/        # ⭐新增
│   │   └── SKILL.md          # 创意与选题检查
│   └── snowflake-fiction/
│       ├── SKILL.md          # 雪花写作法主技能
│       └── references/
│           ├── step-prompts.md              # 每步提示词
│           ├── character-template.md        # 人物卡片模板
│           ├── scene-template.md            # 场景规划模板
│           ├── export-format.md             # 导出格式说明
│           ├── long-novel-guide.md          # 长篇小说指南
│           ├── million-word-webnovel-guide.md # 百万级网文指南
│           ├── fanqie-guide.md              # 番茄小说平台专项指南
│           └── writing-pitfalls-guide.md    # 网文写作避雷指南
├── LICENSE
└── README.md
```

---

## 参考文档说明

本插件内置丰富的参考文档，帮助创作者提升写作质量：

### 创作指南

| 文档 | 说明 |
|------|------|
| **[step-prompts.md](skills/snowflake-fiction/references/step-prompts.md)** | 雪花写作法每步提示词模板，包含人语化处理技巧 |
| **[character-template.md](skills/snowflake-fiction/references/character-template.md)** | 人物卡片和人物宝典完整模板 |
| **[scene-template.md](skills/snowflake-fiction/references/scene-template.md)** | 场景规划模板（主动/被动场景） |
| **[export-format.md](skills/snowflake-fiction/references/export-format.md)** | 各平台导出格式详细说明 |
| **[long-novel-guide.md](skills/snowflake-fiction/references/long-novel-guide.md)** | 长篇小说（10-50万字）创作指南 |
| **[million-word-webnovel-guide.md](skills/snowflake-fiction/references/million-word-webnovel-guide.md)** | 百万级网文商业节奏设计，含黄金三章、付费卡点、爽点密度 |
| **[fanqie-guide.md](skills/snowflake-fiction/references/fanqie-guide.md)** | ⭐ 番茄小说平台专项指南（推荐评估流程、数据指标、关键节点策略） |
| **[writing-pitfalls-guide.md](skills/snowflake-fiction/references/writing-pitfalls-guide.md)** | 新手写作避雷指南（开篇技巧、人设问题、流水账避免、选题技巧） |

### 复核工具

| 文档 | 说明 |
|------|------|
| **[consistency-check-prompt.md](skills/novel-review/references/consistency-check-prompt.md)** | 一致性检查提示词模板 |
| **[character-state-template.md](skills/novel-review/references/character-state-template.md)** | 角色状态追踪模板 |
| **[timeline-template.md](skills/novel-review/references/timeline-template.md)** | 时间线追踪模板 |
| **[foreshadowing-tracker.md](skills/novel-review/references/foreshadowing-tracker.md)** | 伏笔追踪模板 |
| **[review-report-template.md](skills/novel-review/references/review-report-template.md)** | 复核报告模板 |

### 写作避雷指南速览

`writing-pitfalls-guide.md` 整合了番茄小说网作家专区的写作教程，涵盖：

**开篇问题**
- 三大开篇雷区：寡淡开场、信息轰炸、拖沓入题
- 黄金三章法则：第1章抓读者、第2章展设定、第3章爽点
- 开篇切入点选择：剧情切入 vs 场景切入

**人设问题**
- 人设扁平化：所有角色说话风格雷同
- 人设前后不统一：行为与设定矛盾
- 配角工具人化：配角只为服务主角存在

**流水账问题**
- 流水账特征：无冲突、无情绪、无期待感
- 避免方法：增加冲突、加入强情绪、设置悬念

**选题技巧**
- 题材与内容匹配
- 建立辨识度
- 合理跨题材混搭

---

## 常见问题

### Q: 支持哪些小说类型？

A: 理论上所有类型都支持，特别优化了：
- 玄幻/仙侠（升级体系、地图切换）
- 都市（重生、系统、神豪）
- 言情（甜宠、虐恋、霸总）
- 悬疑/推理
- 历史/穿越

### Q: AI生成的小说会被平台检测吗？

A: 有风险。强烈建议：
1. 必须进行人语化处理
2. 人工修改比例 ≥30%
3. 融入个人风格和经历
4. 使用本工具的"人语化程度检测"功能

### Q: 日更6000字能保证质量吗？

A: 建议流程：
1. 周末批量生成下周大纲
2. 每天早上生成初稿
3. 下午人语化+人工润色
4. 晚上定时发布

### Q: 免费使用吗？

A: 本插件完全开源免费。但使用需要 Claude Code 环境。

---

## License

MIT
