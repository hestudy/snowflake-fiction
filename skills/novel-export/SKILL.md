---
name: novel-export
description: 将小说文本转换为各平台投稿格式。当用户说"导出小说"、"转换为平台格式"、"番茄格式"、"起点格式"、"投稿格式"时自动激活。支持番茄小说、起点中文网、晋江文学城、知乎盐选等主流平台。
version: 1.0.0
---

# 小说导出格式转换 Skill

将 Markdown 或纯文本转换为各大小说平台的投稿格式。

---

## 支持的平台

| 平台 | 格式 | 特点 |
|------|------|------|
| **番茄小说** | 纯文本 | 无缩进，回车分段，无空行 |
| **起点中文网** | 纯文本 | 首行缩进2字符 |
| **晋江文学城** | 纯文本 | 遵循晋江规范 |
| **知乎盐选** | 在线编辑 | 短篇2-5万字 |
| **七猫小说** | 纯文本 | 类似番茄 |
| **通用纯文本** | txt | 2字符缩进，章节间空行 |
| **Word 文档** | docx | 保留基本格式 |

---

## 使用方式

### 基础用法

```
/novel-export [平台名] [文本内容或文件路径]
```

### 示例

```bash
# 转换为番茄格式
/novel-export 番茄 [文本内容]

# 转换为起点格式
/novel-export 起点 [文本内容]

# 转换文件
/novel-export 番茄 ./novel-output/我的小说/正文/

# 批量转换目录下所有章节
/novel-export 起点 ./正文/ --batch
```

### 快捷指令

```
/番茄格式 [文本]    # 同 /novel-export 番茄
/起点格式 [文本]    # 同 /novel-export 起点
/晋江格式 [文本]    # 同 /novel-export 晋江
```

---

## 格式转换规则

### Markdown → 平台格式

| Markdown | 番茄 | 起点 | 晋江 |
|----------|------|------|------|
| `# 标题` | 删除 | 删除 | 删除 |
| `**粗体**` | 去标记 | 去标记 | 去标记 |
| `*斜体*` | 去标记 | 去标记 | 去标记 |
| `> 引用` | 普通段落 | 普通段落 | 普通段落 |
| `---` | 删除 | 删除 | 删除 |
| `` `代码` `` | 去标记 | 去标记 | 去标记 |
| `[文字](链接)` | 只保留文字 | 只保留文字 | 只保留文字 |
| 段落 | 不缩进 | 缩进2字符 | 缩进2字符 |
| 空行 | 删除 | 保留 | 保留 |

---

## 各平台详细规范

### 番茄小说格式

**要求**：
- 纯文本，UTF-8 编码
- 用回车分段，段落之间不留空行
- 禁用空格、Tab 缩进
- 禁用特殊字符和格式标记
- 平台自动处理首行缩进

**转换提示词**：
```
请将以下小说内容转换为番茄小说投稿格式：

## 转换规则

1. **去除所有 Markdown 标记**
   - 删除 # 标题标记
   - 删除 ** 粗体标记
   - 删除 * 斜体标记
   - 删除 > 引用标记
   - 删除 --- 分隔线
   - 删除 ` 代码标记
   - 删除 []() 链接标记

2. **段落处理**
   - 每段用单个回车分隔
   - 段落之间不留空行
   - 不添加任何缩进空格

3. **章节标题**
   - 保留章节名，单独一行
   - 格式：第X章 章节名

4. **清理**
   - 删除多余的空行（2个以上变1个）
   - 确保使用简体中文标点
   - 检查特殊字符

---

[文本内容]
```

**输出示例**：
```
第1章 初遇
林小满坐在咖啡馆的角落，手指不停地搅动着面前的拿铁。
咖啡早就凉了，但她一口没动。
妈妈坐在对面，一脸恨铁不成钢的表情。
"小满啊，写小说能当饭吃吗？"
```

---

### 起点中文网（阅文）格式

**要求**：
- 纯文本，UTF-8 编码
- 每段首行缩进2字符（2个全角空格或4个半角空格）
- 章节标题单独一行，不加缩进
- 使用简体中文标点

**转换提示词**：
```
请将以下小说内容转换为起点中文网投稿格式：

## 转换规则

1. **去除所有 Markdown 标记**
   - 删除所有格式标记

2. **段落处理**
   - 每段开头添加2个全角空格（　　）
   - 段落之间不留空行

3. **章节标题**
   - 格式：第X章 章节名
   - 标题单独一行，不加缩进

4. **标点规范**
   - 使用简体中文标点
   - 统一引号为 ""（中文双引号）
   - 删除英文标点

---

[文本内容]
```

**输出示例**：
```
第1章 初遇

　　林小满坐在咖啡馆的角落，手指不停地搅动着面前的拿铁。咖啡早就凉了，但她一口没动。
　　妈妈坐在对面，一脸恨铁不成钢的表情。
　　"小满啊，写小说能当饭吃吗？"
```

---

### 晋江文学城格式

**要求**：
- 纯文本
- 遵循晋江原创写作规范
- 禁止特殊排版
- 正文使用标准段落格式

**转换提示词**：
```
请将以下小说内容转换为晋江文学城投稿格式：

## 转换规则

1. **去除所有 Markdown 标记**

2. **段落处理**
   - 每段开头添加2个全角空格
   - 段落之间可保留一个空行（可选）

3. **内容规范**
   - 确保符合晋江原创写作规范
   - 删除敏感词汇
   - 使用简体中文

4. **章节标题**
   - 格式：第X章
   - 单独一行，居中效果用空格模拟

---

[文本内容]
```

---

### 知乎盐选格式

**要求**：
- 在线编辑器直接粘贴
- 支持基础格式（加粗、斜体）
- 短篇为主（2-5万字）
- 悬疑、反转、情感类受欢迎

**转换提示词**：
```
请将以下小说内容转换为知乎盐选投稿格式：

## 转换规则

1. **保留基本格式**
   - 保留 **粗体** 用于强调
   - 保留 *斜体* 用于心理活动
   - 保留 > 引用 用于特殊内容

2. **段落处理**
   - 段落之间保留空行
   - 首行不缩进

3. **章节处理**
   - 用分隔线 --- 分隔章节
   - 或用数字标注：01、02、03...

4. **适合盐选的调整**
   - 开头要有钩子（3秒抓住读者）
   - 结尾要有悬念
   - 段落不要太长（适合手机阅读）

---

[文本内容]
```

---

### 通用纯文本格式

**转换提示词**：
```
请将以下小说内容转换为通用纯文本格式：

## 转换规则

1. **去除所有 Markdown 标记**

2. **段落处理**
   - 每段开头添加2个全角空格
   - 章节之间保留一个空行

3. **章节标题**
   - 格式：第X章 章节名
   - 标题单独一行，不加缩进

---

[文本内容]
```

---

## 批量转换

### 转换整个目录

```
/novel-export 起点 ./正文/ --batch
```

**处理流程**：
1. 读取目录下所有 `.md` 文件
2. 按文件名排序（第1章.md, 第2章.md...）
3. 逐个转换为指定格式
4. 输出到 `./导出/起点/` 目录

### 合并为单文件

```
/novel-export 番茄 ./正文/ --merge --output 我的小说.txt
```

---

## 格式对比

### 原文（Markdown）

```markdown
# 第1章 初遇

林小满坐在咖啡馆的角落，**手指不停地搅动着**面前的拿铁。

咖啡早就凉了，但她一口没动。

> 时间仿佛静止了。

妈妈坐在对面，一脸恨铁不成钢的表情。
```

### 番茄格式

```
第1章 初遇
林小满坐在咖啡馆的角落，手指不停地搅动着面前的拿铁。
咖啡早就凉了，但她一口没动。
时间仿佛静止了。
妈妈坐在对面，一脸恨铁不成钢的表情。
```

### 起点格式

```
第1章 初遇

　　林小满坐在咖啡馆的角落，手指不停地搅动着面前的拿铁。
　　咖啡早就凉了，但她一口没动。
　　时间仿佛静止了。
　　妈妈坐在对面，一脸恨铁不成钢的表情。
```

### 知乎格式

```
第1章 初遇

林小满坐在咖啡馆的角落，**手指不停地搅动着**面前的拿铁。

咖啡早就凉了，但她一口没动。

> 时间仿佛静止了。

妈妈坐在对面，一脸恨铁不成钢的表情。
```

---

## 注意事项

1. **编码问题**：确保使用 UTF-8 编码
2. **标点符号**：统一使用中文标点
3. **特殊字符**：删除或替换不支持的字符
4. **字数限制**：注意各平台的章节字数要求
5. **敏感词**：部分平台有敏感词过滤，需提前检查

---

## 快速参考

| 指令 | 效果 |
|------|------|
| `/novel-export 番茄 [文本]` | 转换为番茄格式 |
| `/novel-export 起点 [文本]` | 转换为起点格式 |
| `/novel-export 晋江 [文本]` | 转换为晋江格式 |
| `/novel-export 知乎 [文本]` | 转换为知乎格式 |
| `/novel-export 纯文本 [文本]` | 转换为通用纯文本 |
| `/novel-export Word [文本]` | 转换为 Word 格式 |
| `/番茄格式 [文本]` | 快捷：番茄格式 |
| `/起点格式 [文本]` | 快捷：起点格式 |

---

## 与其他 Skill 配合

- **snowflake-fiction**：创作完成后调用此 Skill 导出
- **humanize-text**：人语化后再导出

**推荐流程**：
```
snowflake-fiction → humanize-text → novel-export
```
