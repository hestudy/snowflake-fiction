---
name: outline-concept
description: 故事构思工具，快速完成一句话概括（步骤1）→五句式大纲（步骤2）的构思期。当用户说"构思故事"、"验证创意"、"故事概念"、"帮我想一个故事"、"outline"时自动激活。适合快速验证创意，不走完整雪花流程。可独立使用，也可在 snowflake-fiction 主流程中被调用。
version: 1.0.0
---

# 故事构思

完成雪花写作法构思期的两步：

| 步骤 | 内容 | 输出物 |
|------|------|--------|
| 步骤1 | 一句话概括（≤25字，故事核心） | `00-一句话概括.md` |
| 步骤2 | 五句式大纲（三幕结构骨架） | `01-五句式大纲.md` |

## 使用方式

```
# 引导式（从零开始）
/outline-concept

# 直接输入创意
/outline-concept 都市重生，主角是中年失业者
/outline-concept 穿越古代开奶茶店的现代女孩

# 指定题材和模式
/outline-concept 玄幻 主角是废材少年
/outline-concept 悬疑 双胞胎互换身份

# 仅生成一句话概括（步骤1）
/outline-concept --step1-only 都市职场故事
```

## 执行流程

### 步骤1：一句话概括

生成 5 个选项供用户选择。提供两种公式，根据题材选择更合适的：

**公式A（通用型）**：
```
[主角身份/特征] + [外在困境] + [核心行动] + [潜在结局暗示（不透露）]
```

示例：
- `社恐程序员 × 发现公司秘密 × 伪装黑客调查 × 最终做出惊人选择`
- `穿越农家女 × 家徒四壁欠巨债 × 靠现代知识创业 × 逆风翻盘`

**公式B（正负价值对立型，适合网文/商业向）**：
```
xx（负价值形容词）的xx（主角身份）想要xx（欲望，包含正价值）而去xx的故事
```

要点：
- 正价值必须和负价值相对立，碰撞本身就是期待感
- 欲望最好是具象的（"成为斗帝"比"变强"更有吸引力）

示例：
- `废柴的天才想要出人头地而去成为斗帝的故事`
- `被遗弃的医女想要生存必须去陪葬的故事`
- `退休的战神想要报恩而去都市中掀起血雨腥风的故事`

**快速验证**：把一句话概括问朋友——"我有个xxx的故事，你有兴趣听吗？"如果对方想听，说明故事可行。

用户选定后，进入故事支点识别。

### 故事支点识别（步骤1.5a）

在确定一句话概括后，引导用户识别故事的核心支点。故事支点是能通过一个元素引出一个或多个故事的支撑结构，畅销网文通常有多个支点。

**六种故事支点**：

| 支点类型 | 说明 | 示例 |
|---------|------|------|
| 人物矛盾 | 角色身份的正向期待 vs 实际的负价值特质 | 宗门师父应该传道授业，但他离经叛道——为什么？这就引出一个故事 |
| 世界观规则 | 世界中至少一条新规则，与主角价值观冲突 | 必须吃早餐才能存活的世界、不能996的世界 |
| 金手指 | 推动故事的独特能力/系统，主角驱动金手指而非被金手指驱动 | 金手指也可以作为欲望的负价值：想逃离皇朝的王子获得成帝系统 |
| 悬念 | 开局一个大坑吊起读者胃口，大坑套小坑 | 一群人被绑进密室玩死亡游戏——什么游戏？怎么来的？能通关吗？ |
| 二次行为 | 主角过于激进的举动引发连锁事件 | 主角偷师父功法被发现 → 被赶出宗门？发现师父房间有夺舍阵法？ |
| 激励事件 | 打破主角现有局面，迫使做出选择的干扰 | 天降百亿遗产，主角会有什么选择？命运如何变化？ |

**引导模板**：

```
你的故事有哪些支点？（建议至少选2-3个）

1. 【人物矛盾】主角的身份期待和实际性格有什么反差？
2. 【世界观规则】你的世界有什么独特规则？
3. 【金手指】主角有什么特殊能力或系统？
4. 【悬念】开局有什么大谜团？
5. 【二次行为】主角会做出什么过激举动？
6. 【激励事件】什么事件打破了主角的日常？

不确定？我根据你的一句话概括自动推荐。
```

**注意**：任何一个故事支点都可以作为书名来使用。支点越多，故事的可延展性越强，越适合长篇。

**选定后记录**：将故事支点写入 `00-一句话概括.md` 的元数据中。

### 时间线类型选择（步骤1.5b）

在确定故事支点后，引导用户选择时间线类型。时间线类型决定了故事的叙事结构，直接影响后续大纲、场景规划和正文写作。

**五类时间线对照表**：

| 类型 | 结构特点 | 适合题材 | 代表作 |
|------|----------|----------|--------|
| 顺叙 | 线性推进，A→B→C | 升级流、种田、日常 | 大部分网文 |
| 圆环 | 现在→过去→未来三线交织，最终闭合 | 悬疑、文艺、命运感强的故事 | 《云南虫谷》《信号》 |
| 读档制 | 死亡/失败→回到存档点→带着记忆重来 | 无限流、生存、解谜 | 《诡秘之主》《Re:从零开始》 |
| 纯循环 | 同一时间段反复循环，每次有微小变化 | 密室、哲理、心理 | 《土拨鼠之日》《源代码》 |
| 多线并行 | 2-3条独立时间线同时推进，关键节点交汇 | 群像、史诗、多视角 | 《冰与火之歌》《三体》 |

**选择引导模板**：

```
你的故事适合哪种时间线结构？

1. 【顺叙】从头到尾按时间顺序讲（最常见，适合大部分故事）
2. 【圆环】现在、过去、未来三线交织，最终闭合成环（适合悬疑/命运感）
3. 【读档制】主角死亡或失败后回到存档点重来（适合无限流/生存）
4. 【纯循环】同一天/同一事件反复循环（适合密室/哲理）
5. 【多线并行】多条时间线同时推进（适合群像/史诗）

不确定？我根据你的题材自动推荐。
```

**题材-时间线匹配推荐表**：

| 题材 | 推荐时间线 | 原因 |
|------|------------|------|
| 玄幻/仙侠/升级流 | 顺叙 | 升级体系天然适合线性推进 |
| 悬疑/推理 | 圆环 或 读档制 | 信息差和真相揭露需要非线性叙事 |
| 无限流/生存游戏 | 读档制 | 死亡重来是核心玩法 |
| 密室逃脱/哲理 | 纯循环 | 循环中的微小变化制造张力 |
| 群像/史诗/战争 | 多线并行 | 多视角展现宏大格局 |
| 都市/言情/日常 | 顺叙 | 简单直接，聚焦情感 |
| 穿越/重生 | 顺叙 或 圆环 | 重生本身是时间线操作，可叠加圆环 |

**选定后记录**：将时间线类型写入 `00-一句话概括.md` 的元数据中：

```markdown
## 一句话概括

[用户选定的一句话]

### 元数据
- **题材**：[题材]
- **书名**：[用户选定的书名]
- **故事支点**：[人物矛盾/世界观规则/金手指/悬念/二次行为/激励事件]（可多选）
- **时间线类型**：[顺叙/圆环/读档制/纯循环/多线并行]
- **基调**：[基调]
```

### 步骤2：五句式大纲

将一句话扩展为五句，形成三幕结构骨架：

```
第1句：背景介绍 + 主人公登场
第2句：第一幕结尾 → 第一次灾难（迫使主角投入）
第3句：第二幕前半 → 第二次灾难（道德/信念转折）
第4句：第二幕后半 → 第三次灾难（导向高潮）
第5句：结局 + 道德前提升华
```

**非顺叙时间线的五句式调整**：

如果用户在步骤1.5选择了非顺叙时间线，五句式结构需要相应调整：

**圆环时间线**：五句对应三线的关键节点
```
第1句：现在线开场（主角当前困境）+ 过去线暗示（一个闪回片段）
第2句：过去线揭示（第一次灾难的根源在过去）→ 现在线被迫行动
第3句：现在线推进 + 未来线首次出现（暗示某个结局）→ 第二次灾难
第4句：过去线真相大白 → 现在线第三次灾难 → 未来线呼应
第5句：三线闭合（现在的选择改变了未来，呼应了过去）+ 道德前提
```

示例（圆环时间线）：
```
第1句：失忆侦探在雨夜接到匿名电话，对方说"你忘了你杀过人"——他梦见一个陌生女孩的脸。
第2句：调查中发现死者是自己的前女友（过去线），被迫面对可能是自己犯下的罪行。
第3句：找到关键证人却发现证人也在追查同一案件（未来线暗示），第二次灾难——证人被灭口。
第4句：过去线揭示真相（他目睹了真凶但选择遗忘），现在线被真凶追杀。
第5句：三线闭合——他选择面对真相，用现在的勇气弥补过去的懦弱，阻止未来的悲剧重演。
```

**读档制**：五句对应关键循环轮次
```
第1句：主角首次进入（建立规则和目标）
第2句：第一次死亡/失败 → 发现可以回档（第一次灾难）
第3句：多次尝试后发现更深层的秘密（第二次灾难：规则改变）
第4句：接近真相但付出巨大代价（第三次灾难：回档本身有代价）
第5句：最终突破循环 + 道德前提（成长不可回档）
```

**纯循环**：五句对应循环的觉醒过程
```
第1句：主角经历普通的一天（建立循环基准）
第2句：发现自己在重复同一天（第一次灾难：困在循环中）
第3句：尝试各种方式打破循环均失败（第二次灾难：绝望）
第4句：发现循环的真正原因与自己有关（第三次灾难：内心真相）
第5句：通过内在转变打破循环 + 道德前提
```

**多线并行**：五句覆盖各线的交汇点
```
第1句：各线主角分别登场（建立各自困境）
第2句：A线第一次灾难（影响波及B线）
第3句：B线第二次灾难（各线开始交汇）
第4句：各线汇合 → 第三次灾难（共同危机）
第5句：各线结局 + 道德前提（不同视角的同一主题）
```

生成后自动执行结构检查：
- 是否包含 3 次明确的灾难性事件
- 主角的道德转变是否清晰（从X到Y）
- 结局是否有情感升华

### 步骤2.5：书名建议

五句式大纲完成后，基于故事内容为用户生成书名选项。参考 `concept-check/references/book-title-guide.md` 中的7种起名思路。

**生成规则**：

1. 根据题材和目标读者（男频/女频）选择合适的起名思路
2. 每种思路生成1个书名，共提供 5-7 个选项
3. 每个书名标注类型和理由

**输出模板**：

```
根据你的故事，我推荐以下书名：

1. 《[书名]》（[类型]型）— [一句话理由]
2. 《[书名]》（[类型]型）— [一句话理由]
3. 《[书名]》（[类型]型）— [一句话理由]
4. 《[书名]》（[类型]型）— [一句话理由]
5. 《[书名]》（[类型]型）— [一句话理由]

选一个你喜欢的，或者告诉我你的偏好，我再调整。
```

**书名质量自检**（每个生成的书名都要过）：
- ≤15字
- 贴合故事内容
- 有独特记忆点
- 有悬念或好奇心钩子
- 搜索友好

用户选定后，将书名写入 `00-一句话概括.md` 的元数据中。

## 输出管理

输出文件保存在小说项目目录下：

```
[小说名]/
├── 00-一句话概括.md    ← 步骤1输出
└── 01-五句式大纲.md    ← 步骤2输出
```

**目录检测逻辑**：
- 如果当前目录下已有 `[小说名]/00-一句话概括.md` → 继续写入该项目
- 如果没有 → 询问小说名，创建新项目目录
- 使用 `--no-save` 跳过保存，只在对话中输出结果

## 与主流程的衔接

完成后提示用户下一步选项：

```
构思完成！接下来你可以：
1. 继续完整雪花流程 → /snowflake-fiction 继续
2. 先设计角色 → /character-design
3. 检查选题质量 → /concept-check
4. 暂时保存，稍后继续
```
