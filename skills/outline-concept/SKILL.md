---
name: outline-concept
description: 故事构思工具，快速完成一句话概括（步骤1）→五句式大纲（步骤2）的构思期。当用户说"构思故事"、"验证创意"、"故事概念"、"帮我想一个故事"、"outline"时自动激活。适合快速验证创意，不走完整雪花流程。可独立使用，也可在 snowflake-fiction 主流程中被调用。
version: 1.0.0
---

# 故事构思

完成雪花写作法构思期的两步：

| 步骤 | 内容 | 输出物 |
|------|------|--------|
| 步骤1 | 一句话概括（≤25字，故事核心） | `00-一句话概括.md` |
| 步骤2 | 五句式大纲（三幕结构骨架） | `01-五句式大纲.md` |

## 使用方式

```
# 引导式（从零开始）
/outline-concept

# 直接输入创意
/outline-concept 都市重生，主角是中年失业者
/outline-concept 穿越古代开奶茶店的现代女孩

# 指定题材和模式
/outline-concept 玄幻 主角是废材少年
/outline-concept 悬疑 双胞胎互换身份

# 仅生成一句话概括（步骤1）
/outline-concept --step1-only 都市职场故事
```

## 执行流程

### 步骤1：一句话概括

生成 5 个选项供用户选择，公式：

```
[主角身份/特征] + [外在困境] + [核心行动] + [潜在结局暗示（不透露）]
```

示例：
- `社恐程序员 × 发现公司秘密 × 伪装黑客调查 × 最终做出惊人选择`
- `穿越农家女 × 家徒四壁欠巨债 × 靠现代知识创业 × 逆风翻盘`

用户选定后，进入步骤2。

### 步骤2：五句式大纲

将一句话扩展为五句，形成三幕结构骨架：

```
第1句：背景介绍 + 主人公登场
第2句：第一幕结尾 → 第一次灾难（迫使主角投入）
第3句：第二幕前半 → 第二次灾难（道德/信念转折）
第4句：第二幕后半 → 第三次灾难（导向高潮）
第5句：结局 + 道德前提升华
```

生成后自动执行结构检查：
- 是否包含 3 次明确的灾难性事件
- 主角的道德转变是否清晰（从X到Y）
- 结局是否有情感升华

## 输出管理

输出文件保存在小说项目目录下：

```
[小说名]/
├── 00-一句话概括.md    ← 步骤1输出
└── 01-五句式大纲.md    ← 步骤2输出
```

**目录检测逻辑**：
- 如果当前目录下已有 `[小说名]/00-一句话概括.md` → 继续写入该项目
- 如果没有 → 询问小说名，创建新项目目录
- 使用 `--no-save` 跳过保存，只在对话中输出结果

## 与主流程的衔接

完成后提示用户下一步选项：

```
构思完成！接下来你可以：
1. 继续完整雪花流程 → /snowflake-fiction 继续
2. 先设计角色 → /character-design
3. 暂时保存，稍后继续
```
