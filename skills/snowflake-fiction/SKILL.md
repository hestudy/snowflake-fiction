---
name: snowflake-fiction
description: 使用雪花写作法(Snowflake Method)创作小说。当用户说"写小说"、"创作故事"、"雪花法"、"帮我构思一个故事"时自动激活。支持短篇小说（1-3万字）、长篇小说（10万字+）和百万级网文（100万字+）的全流程创作。
version: 1.1.1
---

# 雪花写作法小说创作 Skill

本 Skill 采用兰迪·英格曼森(Randy Ingermanson)提出的**雪花写作法**，通过循序渐进的步骤，从简单概念扩展为完整小说。

**支持三种模式**：
- **短篇小说**（1-3万字）：12步完成
- **长篇小说**（10-50万字）：15步完成，多卷结构
- **百万级网文**（100万字+）：商业节奏设计，持续更新策略

## 核心理念

```
一片雪花 ⟶ 从简单的三角形开始 ⟶ 不断细化扩展 ⟶ 形成精美图案
    ↓
一个创意 ⟶ 一句话概括 ⟶ 逐步深化 ⟶ 完整小说
```

## 使用时机

- 用户想写小说但不知从何开始
- 用户有一个模糊的故事创意
- 用户希望系统化地构建故事
- 用户需要从大纲到正文的全流程支持
- **长篇创作**：用户想写10万字以上的网文

---

## 选择创作模式

### 短篇小说模式（默认）

```
/snowflake-fiction 短篇 帮我写一个都市职场故事
```

适用：1-3万字，8-15章，单一三幕结构

### 长篇小说模式

```
/snowflake-fiction 长篇 帮我写一个玄幻修仙小说，目标10万字
```

适用：10万字+，50-80章，多卷结构，多条情节线

### 百万级网文模式

```
/snowflake-fiction 百万级 玄幻 300万字
/snowflake-fiction 百万级 都市 200万字 日更
```

适用：100万字+，1000+章节，多地图/多阶段结构，商业节奏设计

**百万级网文特殊支持**：
- 黄金三章设计（决定读者去留）
- 付费卡点规划（番茄30章/起点20章）
- 爽点密度设计（每3章小爽，每30章大爽）
- 升级体系/地图递进设计
- 持续更新策略（大纲池、存稿管理）
- 批量生成模板

### 番茄小说专项支持

当选择「百万级」模式并指定「番茄」平台时：

```
/snowflake-fiction 百万级 番茄 玄幻 300万字
/snowflake-fiction 百万级 番茄 都市 200万字 日更
```

**额外提供**：

| 支持项 | 说明 | 输出时机 |
|--------|------|----------|
| **推荐评估节点规划** | 8万字、15万字关键节点设计 | 步骤6-9 |
| **数据指标嵌入** | 追读率/完读率关注点设计 | 步骤10 |
| **书名简介优化** | 生成5套书名+简介组合（书测备用） | 步骤1-2 |
| **验证期存稿规划** | 确保验证期不断更 | 步骤10 |
| **黄金三章增强** | 按3秒法则设计开篇 | 步骤8-9 |

**数据指标设计原则**：

| 指标 | 目标值 | 设计要点 |
|------|--------|----------|
| 三章追读率 | ≥35% | 第一章300字爆点 + 第三章爽点钩子 |
| 完读率(10万字) | ≥15% | 第5-10章持续钩子 |
| 追更率 | ≥40% | 每章结尾悬念设计 |

**参考资料**：[番茄小说平台创作指南](./references/fanqie-guide.md) ⭐新增

---

## 工作流程概览

### 短篇小说（12步）

| 阶段 | 步骤 | 输出物 | AI 交互 |
|------|------|--------|---------|
| **构思期** | 1-2 | 一句话概括 + 五句式大纲 | 多轮对话，确认方向 |
| **设计期** | 3-5 | 人物卡片 + 背景故事 + 一页大纲 | 深度挖掘，确认细节 |
| **构建期** | 6-7 | 四页大纲 + 人物宝典 | 完善世界观 |
| **规划期** | 8-9 | 场景清单 + 场景规划 | 结构化叙事 |
| **创作期** | 10 | 正式正文 | 逐章生成 |
| **润色期** | 11 | 人语化处理 | 去AI味、注入人味 |
| **导出期** | 12 | 平台格式 | 番茄/起点/纯文本/Word |

### 长篇小说（15步）

| 阶段 | 步骤 | 输出物 | AI 交互 |
|------|------|--------|---------|
| **构思期** | 1-2 | 一句话概括 + 五句式大纲 | 多轮对话，确认方向 |
| **规模期** | 3 | 卷数规划 + 章节数量 | 确定结构规模 |
| **人物期** | 4-5 | 主角群卡片 + 配角群卡片 | 群像塑造 |
| **总纲期** | 6-7 | 一页总纲 + 各卷大纲 | 分卷规划 |
| **深化期** | 8-9 | 主角背景 + 配角背景 | 人物深度 |
| **构建期** | 10-11 | 完整总大纲 + 人物宝典 | 世界观完善 |
| **规划期** | 12-13 | 卷级清单 + 章级大纲 | 多层级规划 |
| **场景期** | 14 | 场景规划 | 详细场景 |
| **创作期** | 15 | 逐章生成 + 润色 | 持续创作 |

### 长篇小说结构建议

```
10万字长篇小说典型结构
├── 第1卷：起（约2万字，10-15章）
│   └── 世界观展开 + 主角登场 + 核心冲突引入
├── 第2卷：承（约2.5万字，12-18章）
│   └── 冲突升级 + 角色成长 + 支线展开
├── 第3卷：转（约2.5万字，12-18章）
│   └── 重大转折 + 高潮前奏 + 关键抉择
├── 第4卷：合（约3万字，15-20章）
│   └── 最终对决 + 主题升华 + 结局
└── 总计：约50-70章
```

---

## 详细执行流程

### 第一阶段：构思期

#### 步骤 1：一句话概括

**目标**：用 ≤25 字概括故事核心

**执行方式**：
1. 询问用户：题材偏好、主角类型、核心冲突
2. 生成 3-5 个一句话概括选项
3. 用户选择后，确认最终版本

**模板**：
```
[主角身份] + [面临困境] + [核心行动] + [不透露结局]
```

**示例**：
> "社恐女孩用 AI 写小说，从无人问津到签约成功。"

---

#### 步骤 2：五句式扩展（三幕结构）

**目标**：将一句话扩展为五句，形成故事骨架

**结构**：
```
第1句：背景介绍 + 主人公登场
第2句：第一幕 → 第一次灾难（迫使主角投入）
第3句：第二幕前半 → 第二次灾难（道德转折）
第4句：第二幕后半 → 第三次灾难（导向高潮）
第5句：结局 + 道德前提升华
```

**执行方式**：
1. 基于一句话概括，生成五句式大纲
2. 确保包含 **3 次灾难性事件**
3. 明确 **道德前提**（主角的内在转变）

---

### 第二阶段：设计期

#### 步骤 3：一页纸人物介绍

**目标**：为核心角色建立基础档案

**角色范围**：主角、反派、导师、关键配角

**模板**（每个角色）：
```markdown
## [角色名]

- **身份**：年龄、职业、社会地位
- **目标**：这个角色想要什么？（外在目标）
- **矛盾**：什么阻止他达成目标？
- **价值观**：他相信什么？
- **顿悟**：他在结尾有何领悟？
- **一句话经历**：[不超50字]
```

**执行方式**：
1. 先生成主角卡片
2. 询问用户确认或调整
3. 依次生成其他核心角色

---

#### 步骤 4：一页纸大纲

**目标**：将五句式扩展为一页纸大纲

**执行方式**：
1. 五句话每句扩展为一个段落
2. 添加具体细节（场景、对话片段、情绪描写）
3. 确保逻辑连贯、节奏合理

---

#### 步骤 5：人物背景故事

**目标**：为每个角色撰写 0.5-1 页背景故事

**重点关注**：
- 主角的 **童年创伤** 或 **性格形成关键事件**
- 反派的 **动机根源**（为什么成为反派？）
- 角色之间的 **关系网络**

**执行方式**：
1. 逐个角色深入挖掘
2. 用户确认每个角色的背景
3. 记录关键设定，避免后期矛盾

---

### 第三阶段：构建期

#### 步骤 6：四页纸完整大纲

**目标**：扩展为 4-5 页详细大纲

**包含内容**：
- 所有重要场景和转折点
- 章节划分（短篇小说建议 8-15 章）
- 节奏控制（张弛有度）
- 情感曲线

**输出格式**：
```markdown
## 第X章：[章节标题]

**场景**：[地点]
**时间**：[时间点]
**核心事件**：[本章发生什么]
**情感锚点**：[本章的情绪变化]
**悬念/钩子**：[结尾留下什么悬念]
```

---

#### 步骤 7：人物宝典

**目标**：建立详尽的角色资料库

**分类**：

| 类别 | 内容 |
|------|------|
| **外部信息** | 年龄、身高、外貌、穿衣风格、口头禅、习惯动作 |
| **内部信息** | 性格、最深恐惧、最强烈欲望、童年阴影 |
| **社会关系** | 家庭、朋友、敌人、暗恋对象 |
| **物品关联** | 标志性物品、收藏、随身携带物 |

**参考资料**：[人物宝典模板](./references/character-template.md)

---

### 第四阶段：规划期

#### 步骤 8：场景清单

**目标**：列出小说所有场景

**要求**：
- 每个场景必须有 **冲突**
- 标注场景类型（主动/被动）
- 没有纯粹的过渡性场景

**输出格式**：
```markdown
| 场景# | 地点 | 人物 | 核心冲突 | 类型 |
|-------|------|------|----------|------|
| 1 | 咖啡馆 | 林小满、妈妈 | 梦想被否定 | 主动 |
| 2 | 出租屋 | 林小满 | 自我怀疑 | 被动 |
```

---

#### 步骤 9：场景规划

**目标**：为每个场景写详细规划

**主动场景**：
```
目标 → 冲突 → 挫折
```

**被动场景**：
```
反应 → 困难 → 决定
```

**模板**：
```markdown
## 场景 [编号]：[场景名]

**类型**：主动/被动
**POV**：[视角人物]

### 如果是主动场景：
- **目标**：主角想要什么？
- **冲突**：什么阻碍了他？
- **挫折**：结果如何？（不能完全成功）

### 如果是被动场景：
- **反应**：对上一场景挫折的情绪反应
- **困难**：面临的内心挣扎
- **决定**：做出什么新决定？
```

---

### 第五阶段：创作期

#### 步骤 10：正式写作

**目标**：按规划逐章生成正文

**执行原则**：
1. **逐章生成**：不一次性生成全文
2. **用户把控**：每章生成后确认再继续
3. **保持一致性**：
   - 检查人物设定是否一致
   - 检查情节逻辑是否连贯
   - 检查伏笔是否收束

**单章生成流程**：
```
1. 读取该章的场景规划
2. 读取相关人物宝典
3. 读取前文内容（保持连贯）
4. 生成初稿
5. 用户修改确认
6. 保存到输出目录
```

**批量生成模式**（可选）：

```bash
# 批量生成多章
/snowflake-fiction 生成 第5-10章 --batch

# 带并发控制的批量生成
/snowflake-fiction 生成 第5-10章 --batch --concurrency 2
```

**批量生成并发控制**：

| 参数 | 说明 |
|------|------|
| `--batch` | 启用批量生成模式 |
| `--concurrency N` | 并发数量，默认为 **2**（避免 API 限流） |

**并发控制策略**：
- 默认并发数：**2**（保守策略，确保质量）
- 推荐范围：1-3
- 每章间隔：2 秒
- 遇到限流时：自动退避，等待 5 秒后重试，最多 3 次

**批量生成执行流程**：
```
1. 读取所有章节的场景规划
2. 按并发数分批，每批处理 N 章
3. 每批完成后等待 2 秒
4. 全部完成后统一输出报告
```

**注意**：批量生成模式建议仅用于已确定大纲的章节，首次创作建议逐章生成以便及时调整。

---

### 第六阶段：润色期

#### 步骤 11：人语化处理（关键步骤）

**目标**：去除AI痕迹，注入人味

**为什么重要**：
- AI倾向于选择最安全、最常见词汇
- 句式过于整齐，缺乏变化
- 缺少个人风格和情感细节
- 平台检测AI痕迹会影响过审率

**核心指标**：

| 指标 | AI特征 | 人类特征 |
|------|--------|----------|
| 困惑度 | 每一步都在预料中 | 意外的词汇和表达 |
| 爆发度 | 句子长度均匀 | 长短交替，顿挫有致 |

**处理流程**：
```
初稿 → AI润色 → 人工标注 → AI优化 → 人工终审 → 定稿
```

**6大处理技巧**：

1. **句式变化**
   - 长句拆短，短句合并
   - 加入口语化过渡词
   - 适当使用倒装句、省略句

2. **情感注入**
   - 每段1处感官描写
   - 每章3处情绪锚点
   - 用细节代替直接描述

3. **角色个性**
   - 对话符合人物设定
   - 加入口头禅和习惯动作
   - 体现思维特点

4. **砍掉翻译腔**
   - 删除"综上所述"类词汇
   - 省略多余的主语
   - 结尾别升华

5. **避开AI高频词**
   - ❌ 织锦、交响曲、灯塔、画卷
   - ❌ 深入探讨、致力于、至关重要
   - ❌ 不仅仅是...更是...

6. **AI改AI**
   - 让AI自检并修改
   - 多轮迭代优化

**禁止词汇清单**：
```
❌ 学术装X系：深入探讨、领域、旨在、致力于
❌ 废话系：综上所述、毋庸置疑、值得注意的是
❌ 幻觉系：织锦、交响曲、灯塔、画卷、星辰大海
```

**参考资料**：[详细人语化提示词](./references/step-prompts.md#步骤-11人语化处理关键步骤)

---

## 交互模式

### 模式 A：引导式（推荐新手）

```
用户：/snowflake-fiction 帮我写一个短篇小说
Claude：好的，让我们开始雪花写作法！

        【第1步：一句话概括】

        请告诉我：
        1. 你想写什么题材？（如：都市、奇幻、悬疑）
        2. 主角是什么样的角色？
        3. 核心冲突是什么？

用户：我想写一个都市职场故事，主角是一个社恐的程序员...
```

### 模式 B：快速式（有经验的作者）

```
用户：用雪花法帮我写一个"穿越到古代开奶茶店"的故事，直接到第6步
Claude：[跳过前5步，直接生成四页大纲]
```

### 模式 C：迭代式（灵活调整）

```
用户：我对第3步的人物设定不满意，重新生成反派
Claude：[重新生成反派卡片]
```

---

## 输出管理

### 输出目录规则

**自动跟随当前工作目录**：所有创作内容直接保存在当前命令行所在目录下，以小说名作为子目录。

```
[当前工作目录]/
└── [小说名]/                  ← 直接在此创建
    ├── 00-一句话概括.md
    ├── 01-五句式大纲.md
    ├── 02-人物卡片/
    │   ├── 主角-林小满.md
    │   └── 反派-王经理.md
    ├── 03-完整大纲.md
    ├── 04-人物宝典/
    ├── 05-场景清单.md
    └── 正文/
        ├── 第1章.md
        └── 第2章.md
```

### 执行时的目录处理

1. **第一步执行时**：
   - 使用 `pwd` 或当前工作目录确定输出位置
   - 直接在该目录下以小说名创建子目录（不再创建 `novel-output/` 中间层）
   - **向后兼容**：如果当前目录下已存在 `novel-output/[小说名]/`，自动识别并继续使用该路径，不迁移

2. **后续步骤**：
   - 继续使用已创建的目录
   - 如果用户切换了工作目录，询问是否在新位置创建

3. **用户可自定义**：
   - 如果用户指定了输出路径，优先使用用户指定的路径
   - 示例：`/snowflake-fiction 输出到 ./my-novel/`

---

## 注意事项

1. **每步确认**：每完成一步，询问用户是否满意再继续
2. **保留记录**：所有中间产物都保存，方便回溯修改
3. **人工润色**：AI 生成的正文建议人工修改 ≥30%
4. **逻辑检查**：定期检查人物设定和情节是否一致

---

## 并发控制策略

为避免 API 限流，本技能在以下场景提供并发控制：

| 操作 | 默认并发 | 推荐范围 | 间隔时间 |
|------|----------|----------|----------|
| 批量生成章节 | 2 | 1-3 | 2 秒 |
| 批量导出格式 | 3 | 2-5 | 1 秒 |
| 人语化处理 | 2 | 1-3 | 1 秒 |

**统一参数**：

```bash
--concurrency N    # 控制并发数量
--batch            # 启用批量模式
```

**限流应对**：
- 遇到 429 错误时自动退避
- 等待 5 秒后重试，最多 3 次
- 重试失败后跳过该项，继续后续任务

**最佳实践**：
- 首次创作建议逐章生成，便于及时调整
- 批量操作时使用 `--concurrency 2` 保守设置
- 如遇限流，降低并发数或改用串行模式（`--concurrency 1`）

---

## 步骤 12：导出投稿格式

**目标**：将 Markdown 格式转换为小说平台支持的格式

**平台格式要求**：

| 平台 | 格式 | 特殊要求 |
|------|------|----------|
| **番茄小说** | 纯文本 | 回车分段，禁空格/tab，平台自动缩进 |
| **起点中文网** | 纯文本 | 首行缩进2字符（全角空格） |
| **晋江文学城** | 纯文本 | 遵循晋江原创写作规范 |
| **知乎盐选** | 在线编辑 | 短篇2-5万字 |

**使用方式**：

```
/snowflake-fiction 导出 番茄
/snowflake-fiction 导出 起点
/snowflake-fiction 导出 纯文本
/snowflake-fiction 导出 Word

# 批量导出（带并发控制）
/snowflake-fiction 导出 番茄 --batch --concurrency 3
```

**批量导出并发控制**：

| 参数 | 说明 |
|------|------|
| `--batch` | 启用批量导出模式 |
| `--concurrency N` | 并发数量，默认为 **3** |

详细并发控制策略请参考 [novel-export 技能](../novel-export/SKILL.md)。

**转换规则**：

| Markdown | 转换为 |
|----------|--------|
| `# 标题` | 删除，保留章节名 |
| `**粗体**` | 去除标记 |
| `*斜体*` | 去除标记 |
| `> 引用` | 普通段落 |
| `---` | 删除 |
| 段落 | 根据平台添加/不添加缩进 |

**番茄格式示例**：

```
第1章 初遇

林小满坐在咖啡馆的角落，手指不停地搅动着面前的拿铁。
咖啡早就凉了，但她一口没动。
妈妈坐在对面，一脸恨铁不成钢的表情。

[不留空行，不缩进]
```

**起点格式示例**：

```
第1章 初遇

　　林小满坐在咖啡馆的角落，手指不停地搅动着面前的拿铁。咖啡早就凉了，但她一口没动。
　　妈妈坐在对面，一脸恨铁不成钢的表情。

[每段开头2个全角空格]
```

**参考资料**：[导出格式详细说明](./references/export-format.md)

---

## 相关资源

- [每步提示词模板](./references/step-prompts.md)
- [人物卡片完整模板](./references/character-template.md)
- [场景规划模板](./references/scene-template.md)
- [导出格式说明](./references/export-format.md)
- [长篇小说创作指南](./references/long-novel-guide.md)
- [百万级网文创作指南](./references/million-word-webnovel-guide.md) ⭐
- [番茄小说平台创作指南](./references/fanqie-guide.md) ⭐新增
- [网文写作避雷指南](./references/writing-pitfalls-guide.md) ⭐
